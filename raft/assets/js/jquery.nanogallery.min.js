/*
 nanoGALLERY v4.2.1
 Plugin for jQuery by Christophe Brisbois
 Demo: http://nanogallery.brisbois.fr
 Sources: https://github.com/Kris-B/nanoGALLERY

 External components:
  - jQuery (http://www.jquery.com)
  - jQuery Color plugin - is embedded
  - Transit (http://ricostacruz.com/jquery.transit) - optional
  - imagesloaded (https://github.com/desandro/imagesloaded) - optional
  - fancybox (http://fancyapps.com) - optional
  - jQuery-JSONP (https://github.com/jaubourg/jquery-jsonp) - optional
  - http://closure-compiler.appspot.com/home - used to minimize the code

 Includes also hoverIntent r7 // 2013.03.11 // jQuery 1.9.1+
 http://cherne.net/brian/resources/jquery.hoverIntent.html

 You may use hoverIntent under the terms of the MIT license. Basically that
 means you are free to use hoverIntent as long as this header is left intact.
 Copyright 2007, 2013 Brian Cherne
*/
(function(n){jQuery.fn.nanoGallery=function(x){var D=n.extend(!0,{userID:"",kind:"",album:"",photoset:"",blackList:"scrapbook|profil",whiteList:"",albumList:"",galleryToolbarWidthAligned:!0,displayBreadcrumb:!1,theme:"default",colorScheme:"none",colorSchemeViewer:"none",items:null,itemsBaseURL:"",maxItemsPerLine:0,paginationMaxItemsPerPage:0,paginationMaxLinesPerPage:0,maxWidth:0,viewer:"internal",viewerDisplayLogo:!1,thumbnailWidth:230,thumbnailHeight:154,thumbnailHoverEffect:null,thumbnailLabel:{position:"overImageOnBottom",
display:!0,displayDescription:!0},thumbnailDisplayInterval:30,thumbnailDisplayTransition:!0,thumbnailLazyLoad:!1,thumbnailLazyLoadTreshold:100,touchAnimation:!0,useTags:!1,preset:"none",locationHash:!1,slideshowDelay:3E3,thumbnailGlobalImageTitle:"",thumbnailGlobalAlbumTitle:"",i18n:{paginationPrevious:"Previous",paginationPrevious_FR:"Pr\u00e9c\u00e9dent",paginationPrevious_DE:"Zur\u00fcck",paginationPrevious_IT:"Indietro",paginationNext:"Next",paginationNext_FR:"Suivant",paginationNext_DE:"Weiter",
paginationNext_IT:"Avanti",thumbnailImageTitle:"",thumbnailAlbumTitle:"",thumbnailImageDescription:"",thumbnailAlbumDescription:""}},x);return this.each(function(){(new nanoGALLERY).Initiate(this,D)})}})(jQuery);
function nanoGALLERY(){var n,x,D,U,A,Y,Z,r,y,O,V,fa;function la(){if("undefined"!==typeof Hammer){var b=0;Hammer(jQuery(P)[0],{drag:!0,transform_always_block:!0,drag_block_horizontal:!0,prevent_default:!1,drag_lock_min_distance:20,hold:!1,release:!0,swipe:!0,tap:!1,touch:!0,transform:!1}).on("drag release",function(c){switch(c.type){case "drag":b=c.gesture.deltaX;25>Math.abs(b)?jQuery(P).css({left:0}):jQuery(P).css({left:b});break;case "release":c.stopPropagation(),25>Math.abs(b)&&jQuery(P).css({left:0}),
-25>b&&Xa(),25<b&&Ya(),b=0}})}}function s(){"fancybox"==d.viewer&&"undefined"===typeof jQuery.fancybox&&(d.viewer="internal",Q("Fancybox could not be found. Fallback to internal viewer. Please check the file includes of the page."));""!=d.blackList&&(Aa=d.blackList.toUpperCase().split("|"));""!=d.whiteList&&(Ba=d.whiteList.toUpperCase().split("|"));""!=d.albumList&&(Ca=d.albumList.toUpperCase().split("|"));if("picasa"==d.kind||"flickr"==d.kind)d.displayBreadcrumb=!0;void 0!==d.photoset?0<d.photoset.length&&
(d.displayBreadcrumb=!1):d.photoset="";void 0!==d.album?0<d.album.length&&(d.displayBreadcrumb=!1):d.album="";0<d.maxWidth&&(jQuery(sa).css("maxWidth",+d.maxWidth),jQuery(sa).css("margin-left","auto"),jQuery(sa).css("margin-right","auto"));"number"==ba(d.slideshowDelay)&&2E3<=d.slideshowDelay?Na=d.slideshowDelay:Q('Parameter "slideshowDelay" must be an integer >= 2000 ms.');"number"==ba(d.thumbnailDisplayInterval)&&0<=d.thumbnailDisplayInterval?ta=d.thumbnailDisplayInterval:Q('Parameter "thumbnailDisplayInterval" must be an integer.');
"number"==ba(d.thumbnailLazyLoadTreshold)&&0<=d.thumbnailLazyLoadTreshold?Oa=d.thumbnailLazyLoadTreshold:Q('Parameter "thumbnailLazyLoadTreshold" must be an integer.');"number"==ba(d.paginationMaxItemsPerPage)&&0<=d.paginationMaxItemsPerPage?I=d.paginationMaxItemsPerPage:Q('Parameter "paginationMaxItemsPerPage" must be an integer.');"number"==ba(d.paginationMaxLinesPerPage)&&0<=d.paginationMaxLinesPerPage?E=d.paginationMaxLinesPerPage:Q('Parameter "paginationMaxLinesPerPage" must be an integer.');
0<I&&0<E&&(I=0);if("auto"==d.thumbnailHeight||"auto"==d.thumbnailWidth)0<d.paginationMaxItemsPerPage&&Q('Parameters "paginationMaxItemsPerPage" and "thumbnailWidth/thumbnailHeight" on "auto" are not compatible.'),0<d.paginationMaxLinesPerPage&&Q('Parameters "paginationMaxLinesPerPage" and "thumbnailWidth/thumbnailHeight" on "auto" are not compatible.'),E=I=0,"undefined"==typeof imagesLoaded&&(Q('Parameter "thumbnailWidth/thumbnailHeight" on "auto" requires the jQuery plugin "imagesLoaded".'),"auto"==
d.thumbnailHeight&&(d.thumbnailHeight=100),"auto"==d.thumbnailWidth&&(d.thumbnailWidth=100));switch(ba(d.thumbnailHoverEffect)){case "string":for(var b=d.thumbnailHoverEffect.split(","),c=0;c<b.length;c++)a.push({name:b[c],duration:200,durationBack:200,easing:"swing",easingBack:"swing"});break;case "object":void 0!=d.thumbnailHoverEffect.name&&a.push(jQuery.extend({duration:200,durationBack:150,easing:"swing",easingBack:"swing"},d.thumbnailHoverEffect));break;case "array":for(c=0;c<d.thumbnailHoverEffect.length;c++)void 0!=
d.thumbnailHoverEffect[c].name&&a.push(jQuery.extend({duration:200,durationBack:150,easing:"swing",easingBack:"swing"},d.thumbnailHoverEffect[c]));break;case "null":break;default:R('incorrect parameter for "thumbnailHoverEffect".')}for(c=0;c<a.length;c++)switch(a[c].name){case "slideUp":case "slideDown":case "slideLeft":case "slideRight":case "imageSlideUp":case "imageSlideDown":case "imageSlideLeft":case "imageSlideRight":case "labelAppear":case "labelAppear75":case "labelSlideDown":case "labelSlideUp":case "labelSlideUpTop":case "labelOpacity50":case "borderLighter":case "borderDarker":case "imageInvisible":case "imageOpacity50":case "descriptionSlideUp":break;
case "imageScale150":case "imageScale150Outside":case "scale120":case "overScale":case "overScaleOutside":case "scaleLabelOverImage":case "imageFlipHorizontal":case "imageFlipVertical":case "rotateCornerBR":case "rotateCornerBL":case "imageRotateCornerBR":case "imageRotateCornerBL":ca||Q('Parameter "'+a[c].name+'" for "thumbnailHoverEffect" requires the additional jQuery plugin "Transit".');break;default:R('Unknow parameter "'+a[c].name+'" for "thumbnailHoverEffect".')}}function e(){J=(navigator.language||
navigator.userLanguage).toUpperCase();"undefined"===J&&(J="");"object"==ba(d.i18n)&&Object.keys(d.i18n).forEach(function(b){switch(b){case "paginationPrevious_"+J:Y=d.i18n[b];break;case "paginationPrevious":Y=d.i18n[b];break;case "paginationNext_"+J:Z=d.i18n[b];break;case "paginationNext":Z=d.i18n[b];break;case "breadcrumbHome_"+J:r=d.i18n[b];break;case "breadcrumbHome":r=d.i18n[b];break;case "thumbnailImageTitle_"+J:y=d.i18n[b];break;case "thumbnailImageTitle":y=d.i18n[b];break;case "thumbnailAlbumTitle_"+
J:O=d.i18n[b];break;case "thumbnailAlbumTitle":O=d.i18n[b];break;case "thumbnailImageDescription_"+J:V=d.i18n[b];break;case "thumbnailImageDescription":V=d.i18n[b];break;case "thumbnailAlbumDescription_"+J:fa=d.i18n[b];break;case "thumbnailAlbumDescription":fa=d.i18n[b]}})}function k(b){if(!d.locationHash)return!1;var c=null,a=null,c="#nanogallery/"+ma+"/",m=location.hash;if(m!=ga){if(""==m&&-1!=Pa)switch(d.kind){case "":return ga="",t(0,!1),!0;case "flickr":return ga="",v(0,!1,-1,!1),!0;default:return ga=
"",F(0,!1,-1,!1),!0}if(0==m.indexOf(c)){var p=m.substring(c.length),z=p.indexOf("/"),e=m=-1,Za=g.length;if(0<z)for(c=p.substring(0,z),a=p.substring(z+1),p=0;p<Za;p++){if("image"==g[p].kind&&g[p].GetID()==a){e=p;break}}else c=p;for(p=0;p<Za;p++)if("album"==g[p].kind&&g[p].GetID()==c){m=p;break}if(null!==a)switch(b||(Da=m),d.kind){case "":return ha(e),!0;case "flickr":return-1==e?v(m,!1,a,b):ha(e),!0;default:return-1==e?F(m,!1,a,b):ha(e),!0}else switch(d.kind){case "":return t(m,!1),!0;case "flickr":return v(m,
!1,-1,b),!0;default:return F(m,!1,-1,b),!0}}}}function l(b,c){var a="";return""!=J&&void 0!==b[c+"_"+J]&&0<b[c+"_"+J].length?a=b[c+"_"+J]:a=b[c]}function f(){var b=!1;jQuery.each(d.items,function(c,a){var h="",h=l(a,"title");void 0===h&&(h="");var m="",m=void 0!==a.srct&&0<a.srct.length?d.itemsBaseURL+a.srct:d.itemsBaseURL+a.src,z=d.itemsBaseURL+a.src,p="",p=l(a,"description");void 0===p&&(p="");var g="";void 0!==a.destURL&&0<a.destURL.length&&(g=a.destURL);var e="",e=l(a,"tags");void 0===e&&(e="");
var f=0;void 0!==a.albumID&&(f=a.albumID,b=!0);var k=null;void 0!==a.ID&&(k=a.ID);var n="image";void 0!==a.kind&&0<a.kind.length&&(n=a.kind);M(h,m,z,p,g,n,e,k,f)});b&&(d.displayBreadcrumb=!0);for(var c=g.length,a=0,m=0,p=0;p<c;p++){for(var z=m=a=0;z<c;z++)p!=z&&g[p].GetID()==g[z].albumID&&(a++,"image"==g[z].kind&&(g[z].imageNumber=m++));g[p].contentLength=a}}function B(b){var c=!1;jQuery.each(b,function(b,a){var h="";void 0!==jQuery(a).attr("data-ngthumb")&&0<jQuery(a).attr("data-ngthumb").length&&
(h=d.itemsBaseURL+jQuery(a).attr("data-ngthumb"));void 0!==jQuery(a).attr("data-ngThumb")&&0<jQuery(a).attr("data-ngThumb").length&&(h=d.itemsBaseURL+jQuery(a).attr("data-ngThumb"));src=d.itemsBaseURL+jQuery(a).attr("href");var m="";void 0!==jQuery(a).attr("data-ngdesc")&&0<jQuery(a).attr("data-ngdesc").length&&(m=jQuery(a).attr("data-ngdesc"));void 0!==jQuery(a).attr("data-ngDesc")&&0<jQuery(a).attr("data-ngDesc").length&&(m=jQuery(a).attr("data-ngDesc"));var z="";void 0!==jQuery(a).attr("data-ngdest")&&
0<jQuery(a).attr("data-ngdest").length&&(z=jQuery(a).attr("data-ngdest"));void 0!==jQuery(a).attr("data-ngDest")&&0<jQuery(a).attr("data-ngDest").length&&(z=jQuery(a).attr("data-ngDest"));var p=0;void 0!==jQuery(a).attr("data-ngalbumid")&&(p=jQuery(a).attr("data-ngalbumid"),c=!0);void 0!==jQuery(a).attr("data-ngAlbumID")&&(p=jQuery(a).attr("data-ngAlbumID"),c=!0);var g=null;void 0!==jQuery(a).attr("data-ngid")&&(g=jQuery(a).attr("data-ngid"));void 0!==jQuery(a).attr("data-ngID")&&(g=jQuery(a).attr("data-ngID"));
var e="image";void 0!==jQuery(a).attr("data-ngkind")&&0<jQuery(a).attr("data-ngkind").length&&(e=jQuery(a).attr("data-ngkind"));void 0!==jQuery(a).attr("data-ngKind")&&0<jQuery(a).attr("data-ngKind").length&&(e=jQuery(a).attr("data-ngKind"));M(jQuery(a).text(),h,src,m,z,e,"",g,p)});jQuery.each(b,function(b,a){jQuery(a).remove()});c&&(d.displayBreadcrumb=!0);b=g.length;for(var a=0,m=0,p=0;p<b;p++){for(var z=m=a=0;z<b;z++)p!=z&&g[p].GetID()==g[z].albumID&&(a++,"image"==g[z].kind&&(g[z].imageNumber=
m++));g[p].contentLength=a}}function v(b,a,h,m){if(0!=g[b].contentLength)t(b,m);else{var p="",z="album";0==g[b].GetID()?p="http://api.flickr.com/services/rest/?&method=flickr.photosets.getList&api_key="+bb+"&user_id="+d.userID+"&primary_photo_extras=url_"+da+"&format=json&jsoncallback=?":(p="http://api.flickr.com/services/rest/?&method=flickr.photosets.getPhotos&api_key="+bb+"&photoset_id="+g[b].GetID()+"&extras=description,views,url_o,url_z,url_"+Ea+",url_"+da+"&format=json&jsoncallback=?",z="image");
!0==d.displayBreadcrumb&&jQuery(H).find(".folder").last().addClass("loading");jQuery.ajaxSetup({cache:!1});jQuery.support.cors=!0;void 0!==jQuery.jsonp?jQuery.jsonp({url:p,success:function(p){!0==d.displayBreadcrumb&&jQuery(H).find(".folder").last().removeClass("loading");"album"==z?q(b,p):ea(b,p);if(a)k(!1)||t(b,m);else if(-1!=h){p=-1;for(var e=g.length,f=0;f<e;f++)if("image"==g[f].kind&&g[f].GetID()==h){p=f;break}ha(p,!0)}else t(b,m)},error:function(b,a){!0==d.displayBreadcrumb&&jQuery(H).find(".folder").last().removeClass("loading");
R("Could not retrieve Flickr photoset list: "+a)}}):jQuery.getJSON(p,function(p){!0==d.displayBreadcrumb&&jQuery(H).find(".folder").last().removeClass("loading");"album"==z?q(b,p):ea(b,p);if(a)k(!1)||t(b,m);else if(-1!=h){p=-1;for(var e=g.length,f=0;f<e;f++)if("image"==g[f].kind&&g[f].GetID()==h){p=f;break}ha(p,!0)}else t(b,m)}).fail(function(b,a,c){!0==d.displayBreadcrumb&&jQuery(H).find(".folder").last().removeClass("loading");R("Could not retrieve Flickr photoset list (jQuery): "+(a+", "+c))})}}
function q(b,a){var h=!0;void 0!==a.stat&&"fail"===a.stat&&(R("Could not retrieve Flickr photoset list: "+a.message+" (code: "+a.code+")."),h=!1);if(h){var d=0;jQuery.each(a.photosets.photoset,function(a,c){itemTitle=c.title._content;itemID=c.id;itemDescription="";void 0!=c.description._content&&(itemDescription=c.description._content);itemThumbURL=c.primary_photo_extras["url_"+da];var h="";void 0!==c.primary_photo_extras&&void 0!==c.primary_photo_extras.tags&&(h=c.primary_photo_extras.tags);cb(itemTitle)&&
(h=M(itemTitle,itemThumbURL,"",itemDescription,"","album",h,itemID,g[b].GetID()),h.thumbWidth=c.primary_photo_extras["width_"+da],h.thumbHeight=c.primary_photo_extras["height_"+da],d++)});g[b].contentIsLoaded=!0;g[b].contentLength=d}}function ea(b,a){var h=g[b].GetID(),d=0;jQuery.each(a.photoset.photo,function(b,a){var c=a.title,e=a.id,g=a.description._content,f=a["url_"+da],k="",k="o"==Ea?void 0!==a.url_o?a.url_o:a.url_z:a["url_"+Ea],c=M(c,f,k,g,"","image","",e,h);c.imageNumber=d;void 0!==a.url_o?
(c.width=a.width_o,c.height=a.height_o):(c.width=a.width_z,c.height=a.height_z);c.thumbWidth=a["width_"+da];c.thumbHeight=a["height_"+da];d++});g[b].contentIsLoaded=!0;g[b].contentLength=d}function F(b,a,h,m){if(0!=g[b].contentLength)t(b,m);else{var p="",e="album";0==g[b].GetID()?p="http://picasaweb.google.com/data/feed/api/user/"+d.userID+"?alt=json&kind=album&imgmax=d&thumbsize="+ua:(p="http://picasaweb.google.com/data/feed/api/user/"+d.userID+"/albumid/"+g[b].GetID()+"?alt=json&kind=photo&thumbsize="+
ua+"&imgmax=d",e="image");p+="&callback=?";!0==d.displayBreadcrumb&&jQuery(H).find(".folder").last().addClass("loading");jQuery.ajaxSetup({cache:!1});jQuery.support.cors=!0;void 0!==jQuery.jsonp?jQuery.jsonp({url:p,success:function(p){!0==d.displayBreadcrumb&&jQuery(H).find(".folder").last().removeClass("loading");db(b,p,e);if(a)k(!1)||t(b,m);else if(-1!=h){p=-1;for(var f=g.length,l=0;l<f;l++)if("image"==g[l].kind&&g[l].GetID()==h){p=l;break}ha(p,!0)}else t(b,m)},error:function(b,a){!0==d.displayBreadcrumb&&
jQuery(H).find(".folder").last().removeClass("loading");R("Could not retrieve Picasa/Google+ data: "+a)}}):jQuery.getJSON(p,function(p){!0==d.displayBreadcrumb&&jQuery(H).find(".folder").last().removeClass("loading");db(b,p,e);if(a)k(!1)||t(b,m);else if(-1!=h){p=-1;for(var f=g.length,l=0;l<f;l++)if("image"==g[l].kind&&g[l].GetID()==h){p=l;break}ha(p,!0)}else t(b,m)}).fail(function(b,a,c){!0==d.displayBreadcrumb&&jQuery(H).find(".folder").last().removeClass("loading");R("Could not retrieve Picasa/Google+ data (jQuery): "+
(a+", "+c))})}}function db(b,a,h){var m=0,p=g[b].GetID();jQuery.each(a.feed.entry,function(b,a){var c="",e=a.media$group.media$title.$t,g=a.media$group.media$thumbnail[0].url,f=a.gphoto$id.$t,l=a.media$group.media$description.$t;"image"==h&&(c=e,e=l,l="");var k=a.media$group.media$content[0].url,n=!0;"album"==h&&(cb(e)||(n=!1));n&&(n="","album"==h?n=f:(k=k.substring(0,k.lastIndexOf("/")),k=k.substring(0,k.lastIndexOf("/"))+"/",n=window.screen.width>window.screen.height?k+"w"+window.screen.width+"/"+
c:k+"h"+window.screen.height+"/+filename"),c=M(e,g,n,l,"",h,"",f,p),c.imageNumber=m,"image"==h?(c.width=a.gphoto$width.$t,c.height=a.gphoto$height.$t,c.thumbWidth=a.media$group.media$thumbnail[0].width,c.thumbHeight=a.media$group.media$thumbnail[0].height):("auto"==d.thumbnailHeight&&(c.thumbWidth=ua),"auto"==d.thumbnailWidth&&(c.thumbHeight=ua)),m++)});g[b].contentIsLoaded=!0;g[b].contentLength=m}function M(b,a,h,d,p,e,f,l,k){b=new ub(b,l);b.thumbsrc=a;b.src=h;b.description=d;b.destinationURL=p;
b.kind=e;b.albumID=k;b.tags=0==f.length?null:f.split(" ");g.push(b);return b}function t(b,a){Da=-1;ia&&na(!1);if(b!=Pa){if(d.locationHash&&a){var h="nanogallery/"+ma+"/"+g[b].GetID();ga="#"+h;top.location.hash=h}Pa=g[b].GetID();var m=!1;if(!0==d.displayBreadcrumb&&(m=!0,0==jQuery(H).children().length?eb(0):jQuery(H).children().not(":first").remove(),0!=b)){var p=g.length,e=[];e.push(b);for(var f=b;0!=g[f].albumID;)for(h=1;h<p;h++)if(g[h].GetID()==g[f].albumID){f=h;e.push(f);break}for(h=e.length-1;0<=
h;h--)p=0,0<=h-1&&(p=h-1),vb(e[p]),eb(e[h])}d.useTags&&(m=!0,null==fb&&(fb=jQuery('<div class="nanoGalleryTags"></div>').appendTo(Qa)));!gb&&m&&(gb=!0,jQuery(ja).show());va(b,0)}}function eb(b){var a=jQuery('<div class="folder">'+g[b].title+"</div>").appendTo(H);jQuery(a).data("albumIdx",b);a.click(function(){var b=jQuery(this).data("albumIdx");jQuery(this).nextAll().remove();switch(d.kind){case "":t(b,!0);break;case "flickr":v(b,!1,-1,!0);break;default:F(b,!1,-1,!0)}})}function vb(b){var a=jQuery('<div class="separator"></div>').appendTo(H);
jQuery(a).data("albumIdx",b);a.click(function(){var b=jQuery(this).data("albumIdx");jQuery(this).nextAll().remove();jQuery(this).remove();switch(d.kind){case "":t(b,!0);break;case "flickr":v(b,!1,-1,!0);break;default:F(b,!1,-1,!0)}})}function Fa(){if("auto"==d.thumbnailHeight){Ra(0);Ga(0);var b=jQuery(P).outerWidth(!0),a=0,h=0,m=0,p=0,e=parseInt(b/K);0<d.maxItemsPerLine&&e>d.maxItemsPerLine&&(e=d.maxItemsPerLine);var g=[];W.find(".container").each(function(){jQuery(this).css("position","absolute");
h=0;if(0==p){var b=m*K;jQuery(this).css({top:h,left:b});g[m]=h+jQuery(this).outerHeight(!0);m++;m>=e&&(m=0,p++)}else{var d=0,b=g[0];for(i=1;i<e;i++)g[i]<b&&(b=g[i],d=i);h=g[d];b=d*K;jQuery(this).css({top:h,left:b});g[d]=h+jQuery(this).outerHeight(!0)}a++});var f=g[0];for(i=1;i<e;i++)g[i]>f&&(f=g[i]);W.width(b).height(f)}else Ra(0),Ga(0),0<E&&0<K&&(b=jQuery(P).outerWidth(!0),a=parseInt(b/K),1>a&&(a=1),a!=S&&(b=jQuery(L).data("galleryIdx"),va(b,0)))}function Ra(b){if(0<K&&(0<d.maxWidth&&K>d.maxWidth&&
jQuery(sa).css("maxWidth",K),b=jQuery(P).outerWidth(!0),"auto"!=d.thumbnailWidth)){var a=!1;0<d.maxItemsPerLine&&d.maxItemsPerLine*K<=b&&(W.css("maxWidth",d.maxItemsPerLine*K),a=!0);a||(b=parseInt(b/K),0<b&&W.css("maxWidth",b*K))}}function Ga(b){d.galleryToolbarWidthAligned&&void 0!==ja&&(b=W.outerWidth(!0),jQuery(ja).width(),jQuery(ja).width(b))}function hb(){var b=W.find(".container").filter(function(){return ib(this,Oa)});jQuery(b).each(function(){var b=jQuery(this).find("img");if("//:0"==jQuery(b).attr("src")){var a=
jQuery(this).data("index");jQuery(b).attr("src",g[a].thumbsrc)}})}function cb(b){b=b.toUpperCase();if(null!==Ca)for(var a=0;a<Ca.length;a++){if(b==Ca[a].toUpperCase())return!0}else{var d=!1;if(null!==Ba){for(a=0;a<Ba.length;a++)-1!==b.indexOf(Ba[a])&&(d=!0);if(!d)return!1}if(null!==Aa)for(a=0;a<Aa.length;a++)if(-1!==b.indexOf(Aa[a]))return!1;return!0}}function wb(b,a){jQuery(L).children().remove();jQuery(L).data("galleryIdx",b);jQuery(L).data("currentPageNumber",a);var d=0,m=0;if(0<a){var e=jQuery('<div class="paginationPrev">'+
Y+"</div>").appendTo(L),m=m+jQuery(e).outerWidth(!0);e.click(function(a){Ya()})}e=0;0!=I&&(d=Math.ceil(g[b].contentLength/I));0<E&&(d=Math.ceil(g[b].contentLength/(E*S)));5<=a?(e=a-5,d>a+6&&(d=a+6)):10<d&&(d=10);if(1!=d){for(;e<d;e++){var f="";e==a&&(f=" currentPage");f=jQuery('<div class="paginationItem'+f+'">'+(e+1)+"</div>").appendTo(L);jQuery(f).data("pageNumber",e);m+=jQuery(f).outerWidth(!0);f.click(function(a){a=jQuery(L).data("galleryIdx");var b=jQuery(this).data("pageNumber");va(a,b)})}a+
1<d&&(d=jQuery('<div class="paginationNext">'+Z+"</div>").appendTo(L),m+=jQuery(d).outerWidth(!0),d.click(function(a){Xa()}));jQuery(L).width(m)}}function Xa(){var a=jQuery(L).data("galleryIdx"),c=0;0!=I&&(c=g[a].contentLength/I);0<E&&(c=g[a].contentLength/(E*S));n2=Math.ceil(c);c=jQuery(L).data("currentPageNumber");c<n2-1?c++:c=0;va(a,c)}function Ya(){var a=jQuery(L).data("galleryIdx"),c=0;0!=I&&(c=g[a].contentLength/I);0<E&&(c=g[a].contentLength/(E*S));n2=Math.ceil(c);c=jQuery(L).data("currentPageNumber");
0<c?c--:c=n2-1;va(a,c)}function va(a,c){W.parent().animate({opacity:0},100).promise().done(function(){W.off().empty();for(var d=g.length,m=0;m<d;m++)g[m].hovered=!1;jQuery(P).css({left:0,opacity:"1"});xb(a,c,yb)})}function xb(a,c,h){Ha=0;var m=g.length,e=wa=0,f=0,l=0;0<I&&(f=c*I,l=f+I);0<E&&(f=c*E*S,l=f+E*S);!0==d.displayBreadcrumb&&jQuery(H).find(".folder").last().removeClass("loading");var k="1";d.thumbnailDisplayTransition&&(k="0");var v=!0,$a=!1,ab=!1,B=0;(function(){for(var F=0;100>F;F++){if(B>=
m){h(a,c);return}var q=g[B];if(q.albumID==g[a].GetID()){e++;if(0<I&&e>l){h(a,c);return}if(0<E&&wa+1>E*S){h(a,c);return}if(e>f){wa++;var u=[],t=0;u[t++]='<div class="container nanogalleryHideElement" style="display:inline-block,opacity:'+k+'"><div class="subcontainer" style="display: inline-block">';var r="",r=d.thumbnailLazyLoad?"//:0":q.thumbsrc,s=!1;"auto"==d.thumbnailHeight?(u[t++]='<div class="imgContainer" style="width:'+d.thumbnailWidth+'px;"><img class="image" src='+r+' style="width:'+d.thumbnailWidth+
'px;"></div>',0==g[B].thumbHeight&&(s=!0)):"auto"==d.thumbnailWidth?(u[t++]='<div class="imgContainer" style="height:'+d.thumbnailHeight+'px;"><img class="image" src='+r+' style="height:'+d.thumbnailHeight+'px;"></div>',0==g[B].thumbWidth&&(s=!0)):u[t++]='<div class="imgContainer" style="width:'+d.thumbnailWidth+"px;height:"+d.thumbnailHeight+'px;"><img class="image" src='+r+' style="max-width:'+d.thumbnailWidth+"px;max-height:"+d.thumbnailHeight+'px;"></div>';if("album"==q.kind){if(!0==d.thumbnailLabel.display){r=
q.title;""!=O&&(r=O);var w="";!0==d.thumbnailLabel.displayDescription&&(w=""!=fa?fa:q.description);u[t++]='<div class="labelImage" style="width:'+d.thumbnailWidth+"px;max-height:"+d.thumbnailHeight+'px;"><div class="labelFolderTitle">'+r+'</div><div class="labelDescription">'+w+"</div></div>"}}else if(r=q.title,w="",!0==d.thumbnailLabel.display){if(void 0===r||0==r.length)r="&nbsp;";""!=y&&(r=y);!0==d.thumbnailLabel.displayDescription&&(w=""!=V?V:q.description);u[t++]='<div class="labelImage" style="width:'+
d.thumbnailWidth+"px;max-height:"+d.thumbnailHeight+'px;"><div class="labelImageTitle">'+r+'</div><div class="labelDescription">'+w+"</div></div>"}u[t++]="</div></div>";u=jQuery(u.join("")).appendTo(jb);g[B].$elt=u;u.find("img").data("index",B);s&&u.imagesLoaded().always(function(a){var b=jQuery(a.images[0].img).data("index"),b=g[b],c=!1;b.thumbHeight!=a.images[0].img.naturalHeight&&(b.thumbHeight=a.images[0].img.naturalHeight,c=a.images[0].img.naturalHeight/a.images[0].img.naturalWidth,c*=d.thumbnailWidth,
b.$elt.find(".imgContainer").height(c),b.thumbRealHeight=c+ea,b.$elt.height(b.thumbRealHeight),c=!0);b.thumbWidth!=a.images[0].img.naturalWidth&&(b.thumbWidth=a.images[0].img.naturalWidth,c=a.images[0].img.naturalWidth/a.images[0].img.naturalHeight,a=d.thumbnailHeight*c,b.$elt.find(".imgContainer").weight(a),b.thumbRealWidth=a+M,b.$elt.width(b.thumbRealWidth),c=!0);c&&(Fa(),d.thumbnailDisplayTransition?0<ta?b.$elt.delay(wa*ta).fadeTo(150,1):b.$elt.fadeTo(150,1):b.$elt.css("opacity",1))});switch(d.thumbnailLabel.position){case "onBottom":u.find(".labelImage").css({top:"0",
position:"relative"});u.find(".labelImageTitle").css("white-space","nowrap");u.find(".labelFolderTitle").css("white-space","nowrap");u.find(".labelDescription").css("white-space","nowrap");break;case "overImageOnTop":u.find(".labelImage").css("top","0");break;case "overImageOnMiddle":u.find(".labelImage").css({top:"0",height:"100%"});u.find(".labelFolderTitle").css({width:"100%",position:"absolute",bottom:"50%"});u.find(".labelImageTitle").css({width:"100%",position:"absolute",bottom:"50%"});u.find(".labelDescription").css({width:"100%",
position:"absolute",top:"50%"});break;default:d.thumbnailLabel.position="overImageOnBottom",u.find(".labelImage").css("bottom","0")}var M=u.find(".imgContainer").outerWidth(!0)-u.find(".imgContainer").width(),ea=u.find(".imgContainer").outerHeight(!0)-u.find(".imgContainer").height();v&&("auto"!=d.thumbnailWidth&&(Ia=u.find(".imgContainer").outerWidth(!0)),"auto"!=d.thumbnailHeight&&(xa=u.find(".imgContainer").outerHeight(!0)));"auto"==d.thumbnailHeight?(0<q.thumbHeight&&(t=q.thumbHeight/q.thumbWidth,
u.find(".imgContainer").height(d.thumbnailWidth*t),q.thumbRealHeight=d.thumbnailWidth*t+ea,u.height(q.thumbRealHeight)),q.thumbRealWidth=Ia):"auto"==d.thumbnailHeight?(0<q.thumbWidth&&(t=q.thumbHeight/q.thumbWidth,u.find(".imgContainer").width(d.thumbnailHeight*t),q.thumbRealWidth=d.thumbnailHeight*t+M,u.width(q.thumbRealWidth)),q.thumbRealHeight=xa):(u.width(Ia).height(xa),q.thumbRealHeight=xa,q.thumbRealWidth=Ia);v&&(K=u.outerWidth(!0),u.outerHeight(!0),Ha="album"==q.kind?u.find(".labelFolderTitle").outerWidth(!0):
u.find(".labelImageTitle").outerHeight(!0),0<E&&(t=jQuery(P).width(),S=parseInt(t/K),1>S&&(S=1),0<d.maxItemsPerLine&&S>d.maxItemsPerLine&&(S=d.maxItemsPerLine)));u.data("index",B);t=u.detach();s?t.css("opacity",0):t.css("opacity",k);t.appendTo(W);"auto"==d.thumbnailHeight&&0<q.thumbHeight&&Fa();"auto"==d.thumbnailHeight&&0<q.thumbWidth&&Fa();t.removeClass("nanogalleryHideElement");s||d.thumbnailDisplayTransition&&(0<ta?t.delay(wa*ta).fadeTo(150,1):t.fadeTo(150,1));d.thumbnailLazyLoad&&!$a&&(ib(u,
Oa)?(u.find("img").attr("src",q.thumbsrc),ab=!0):ab&&($a=!0));if(v){n=u.css("border-color");if(""==n||null==n||void 0==n)n="#000";x=u.find(".labelImage").css("opacity");q=jQuery.Color(u.find(".labelImage"),"backgroundColor");D=q.red();U=q.green();A=q.blue();v=!1}zb(u)}}B++}B<m?(Ga(c),setTimeout(arguments.callee,0)):h(a,c)})()}function yb(a,c){W.on("mouseenter",".container",function(){kb(this)}).on("mouseleave",".container",function(){lb(this)}).on("touchstart",".container",function(){event.preventDefault();
mb(this)}).on("click",".container",function(a){jQuery(this);mb(this)});Ra(c);Ga(c);wb(a,c)}function mb(a){var c=jQuery(a).data("index");if(!1==d.touchAnimation||!0===g[c].hovered)if(void 0!==g[c].destinationURL&&0<g[c].destinationURL.length)window.location=g[c].destinationURL;else if("album"==g[c].kind)switch(d.kind){case "":t(c,!0);break;case "flickr":v(c,!1,-1,!0);break;default:F(c,!1,-1,!0)}else ha(c,!1);else nb(),kb(a)}function nb(){for(var a=g.length,c=0;c<a;c++)!0===g[c].hovered&&lb(g[c].$elt)}
function zb(b){var c=jQuery(b).data("index");if(void 0!=c){var h=g[c];for(j=0;j<a.length;j++){c=!1;switch(a[j].name){case "scaleLabelOverImage":"onBottom"!=d.thumbnailLabel.position&&(C("",jQuery(b).find(".imgContainer")),jQuery(b).find(".labelImage").css({opacity:"0",scale:0.5}),jQuery(b).find(".imgContainer").css({scale:"1"}),c=!0);break;case "overScale":"onBottom"!=d.thumbnailLabel.position&&(jQuery(b).css("overflow","hidden"),C("",jQuery(b).find(".labelImage")),jQuery(b).find(".labelImage").css({opacity:"0",
scale:1.5}),jQuery(b).find(".imgContainer").css({opacity:"1",scale:"1"}),c=!0);break;case "overScaleOutside":"onBottom"!=d.thumbnailLabel.position&&(C("",jQuery(b).find(".labelImage")),jQuery(b).find(".labelImage").css({opacity:"0",scale:1.5}),jQuery(b).find(".imgContainer").css({opacity:"1",scale:"1"}),c=!0);break;case "rotateCornerBL":"onBottom"!=d.thumbnailLabel.position&&ca&&(jQuery(b).css("overflow","hidden"),jQuery(b).find(".labelImage").css("opacity","1").css({rotate:"-90deg","transform-origin":"100% 100%"}),
jQuery(b).find(".imgContainer").css({rotate:"0","transform-origin":"100% 100%"}),c=!0);break;case "rotateCornerBR":"onBottom"!=d.thumbnailLabel.position&&ca&&(jQuery(b).css("overflow","hidden"),jQuery(b).find(".labelImage").css("opacity","1").css({rotate:"90deg","transform-origin":"0% 100%"}),jQuery(b).find(".imgContainer").css({rotate:"0","transform-origin":"0 100%"}),c=!0);break;case "imageRotateCornerBL":"onBottom"!=d.thumbnailLabel.position&&ca&&(C(b,jQuery(b).find(".imgContainer")),jQuery(b).css("overflow",
"hidden"),jQuery(b).find(".labelImage").css("opacity","1"),jQuery(b).find(".imgContainer").css({rotate:"0","transform-origin":"100% 100%"}),c=!0);break;case "imageRotateCornerBR":"onBottom"!=d.thumbnailLabel.position&&ca&&(C(b,jQuery(b).find(".imgContainer")),jQuery(b).css("overflow","hidden"),jQuery(b).find(".labelImage").css("opacity","1"),jQuery(b).find(".imgContainer").css({rotate:"0","transform-origin":"0 100%"}),c=!0);break;case "slideUp":"onBottom"!=d.thumbnailLabel.position&&(jQuery(b).css("overflow",
"hidden"),jQuery(b).find(".labelImage").css("opacity","1").css("top",h.thumbRealHeight),jQuery(b).find(".imgContainer").css({left:"0",top:"0"}),c=!0);break;case "slideDown":"onBottom"!=d.thumbnailLabel.position&&(jQuery(b).css("overflow","hidden"),jQuery(b).find(".labelImage").css("opacity","1").css("top",-h.thumbRealHeight),jQuery(b).find(".imgContainer").css({left:"0",top:"0"}),c=!0);break;case "slideRight":"onBottom"!=d.thumbnailLabel.position&&(jQuery(b).css("overflow","hidden"),jQuery(b).find(".labelImage").css("opacity",
"1").css("left",-h.thumbRealWidth),jQuery(b).find(".imgContainer").css({left:"0",top:"0"}),c=!0);break;case "slideLeft":"onBottom"!=d.thumbnailLabel.position&&(jQuery(b).css("overflow","hidden"),jQuery(b).find(".labelImage").css("opacity","1").css("left",h.thumbRealWidth),jQuery(b).find(".imgContainer").css({left:"0",top:"0"}),c=!0);break;case "imageSlideUp":case "imageSlideDown":case "imageSlideRight":case "imageSlideLeft":"onBottom"!=d.thumbnailLabel.position&&(C(b,jQuery(b).find(".imgContainer")),
jQuery(b).css("overflow","hidden"),jQuery(b).find(".labelImage").css("opacity","1"),jQuery(b).find(".imgContainer").css({left:"0",top:"0"}),c=!0);break;case "labelAppear":case "labelAppear75":"onBottom"!=d.thumbnailLabel.position&&(c="rgb("+D+","+U+","+A+",0)",jQuery(b).find(".labelImage").css("backgroundColor",c),jQuery(b).find(".labelImageTitle").css("opacity","0"),jQuery(b).find(".labelFolderTitle").css("opacity","0"),jQuery(b).find(".labelDescription").css("opacity","0"),c=!1);break;case "labelSlideUpTop":"onBottom"!=
d.thumbnailLabel.position&&(jQuery(b).css("overflow","hidden"),jQuery(b).find(".labelImage").css({top:h.thumbRealHeight,bottom:"none"}),c=!0);break;case "labelSlideUp":"onBottom"!=d.thumbnailLabel.position&&(jQuery(b).css("overflow","hidden"),jQuery(b).find(".labelImage").css({bottom:-h.thumbRealHeight,top:"none"}),c=!0);break;case "labelSlideDown":"onBottom"!=d.thumbnailLabel.position&&(jQuery(b).css("overflow","hidden"),jQuery(b).find(".labelImage").css({top:-h.thumbRealHeight,bottom:"none"}),c=
!0);break;case "descriptionSlideUp":"overImageOnBottom"==d.thumbnailLabel.position&&(jQuery(b).css("overflow","hidden"),c=h.thumbRealHeight-(jQuery(b).find(".labelImage").outerHeight(!0)-jQuery(b).find(".labelImage").height())/2-Ha+"px",jQuery(b).find(".labelImage").css({top:c,bottom:null}),c=!0);break;case "imageFlipHorizontal":ca&&(c=Math.round(1.2*h.thumbRealHeight)+"px",jQuery(b).find(".imgContainer").css({perspective:c,rotateX:"0deg","backface-visibility":"hidden"}),jQuery(b).find(".labelImage").css({perspective:c,
rotateX:"180deg","backface-visibility":"hidden",height:h.thumbRealHeight,opacity:"1"}),c=!0);break;case "imageFlipVertical":ca&&(c=Math.round(1.2*h.thumbRealWidth)+"px",jQuery(b).find(".imgContainer").css({perspective:c,rotateY:"0deg","backface-visibility":"hidden"}),jQuery(b).find(".labelImage").css({perspective:c,rotateY:"180deg","backface-visibility":"hidden",height:h.thumbRealHeight,opacity:"1"}),c=!0);break;case "flipHorizontal":c=Math.round(1.2*h.thumbRealHeight)+"px";jQuery(b).find(".labelImage").css({perspective:c,
rotateX:"180deg","backface-visibility":"hidden",opacity:"1",height:"100%"});c=!0;break;case "flipVertical":c=Math.round(1.2*h.thumbRealWidth)+"px";jQuery(b).find(".subcontainer").css({perspective:c,rotateY:"0deg"});jQuery(b).find(".labelImage").css({perspective:c,rotateY:"180deg","backface-visibility":"hidden",opacity:"1",height:"100%"});c=!0;break;case "borderLighter":case "borderDarker":c=!1;break;case "imageScale150":jQuery(b).css("overflow","hidden");case "imageScale150Outside":c=!0}ca||(c=!1);
c?("swing"==a[j].easing&&(a[j].easing="ease"),"swing"==a[j].easingBack&&(a[j].easingBack="ease"),a[j].method="transit"):a[j].method="jquery"}}}function kb(b){jQuery(b).find("*").stop(!0,!0);var c=jQuery(b).data("index");if(void 0!=c){var h=g[c];h.hovered=!0;try{for(j=0;j<a.length;j++)switch(a[j].name){case "scaleLabelOverImage":"onBottom"!=d.thumbnailLabel.position&&("transit"==a[j].method?(jQuery(b).find(".labelImage").transition({opacity:"1",scale:"1"},a[j].duration,a[j].easing),jQuery(b).find(".imgContainer").transition({scale:"0.5"},
a[j].duration,a[j].easing)):(jQuery(b).find(".labelImage").animate({opacity:"1",scale:"1"},a[j].duration,a[j].easing),jQuery(b).find(".imgContainer").animate({scale:"0.5"},a[j].duration,a[j].easing)));break;case "overScale":case "overScaleOutside":"onBottom"!=d.thumbnailLabel.position&&("transit"==a[j].method?(jQuery(b).find(".labelImage").transition({opacity:"1",scale:"1"},a[j].duration,a[j].easing),jQuery(b).find(".imgContainer").transition({opacity:"0",scale:"0.5"},a[j].duration,a[j].easing)):
(jQuery(b).find(".labelImage").animate({opacity:"1",scale:"1"},a[j].duration,a[j].easing),jQuery(b).find(".imgContainer").animate({opacity:"0",scale:"0.5"},a[j].duration,a[j].easing)));break;case "imageInvisible":"transit"==a[j].method?jQuery(b).find(".imgContainer").transition({opacity:"0"},a[j].duration,a[j].easing):jQuery(b).find(".imgContainer").animate({opacity:"0"},a[j].duration,a[j].easing);break;case "rotateCornerBL":"transit"==a[j].method&&"onBottom"!=d.thumbnailLabel.position&&(jQuery(b).find(".labelImage").transition({rotate:"0deg"},
a[j].duration,a[j].easing),jQuery(b).find(".imgContainer").transition({rotate:"90deg"},a[j].duration,a[j].easing));break;case "rotateCornerBR":"transit"==a[j].method&&"onBottom"!=d.thumbnailLabel.position&&(jQuery(b).find(".labelImage").transition({rotate:"0deg"},a[j].duration,a[j].easing),jQuery(b).find(".imgContainer").transition({rotate:"-90deg"},a[j].duration,a[j].easing));break;case "imageRotateCornerBL":"transit"==a[j].method&&"onBottom"!=d.thumbnailLabel.position&&jQuery(b).find(".imgContainer").transition({rotate:"90deg"},
a[j].duration,a[j].easing);break;case "imageRotateCornerBR":"transit"==a[j].method&&"onBottom"!=d.thumbnailLabel.position&&jQuery(b).find(".imgContainer").transition({rotate:"-90deg"},a[j].duration,a[j].easing);break;case "slideUp":"onBottom"!=d.thumbnailLabel.position&&(c="-"+h.thumbRealHeight+"px","transit"==a[j].method?(jQuery(b).find(".imgContainer").transition({top:c},a[j].duration,a[j].easing),jQuery(b).find(".labelImage").transition({top:0},a[j].duration,a[j].easing)):(jQuery(b).find(".imgContainer").animate({top:c},
a[j].duration,a[j].easing),jQuery(b).find(".labelImage").animate({top:0},a[j].duration,a[j].easing)));break;case "slideDown":"onBottom"!=d.thumbnailLabel.position&&(c=h.thumbRealHeight+"px","transit"==a[j].method?(jQuery(b).find(".imgContainer").transition({top:c},a[j].duration,a[j].easing),jQuery(b).find(".labelImage").transition({top:0},a[j].duration,a[j].easing)):(jQuery(b).find(".imgContainer").animate({top:c},a[j].duration,a[j].easing),jQuery(b).find(".labelImage").animate({top:0},a[j].duration,
a[j].easing)));break;case "slideRight":"onBottom"!=d.thumbnailLabel.position&&(c=h.thumbRealWidth+"px","transit"==a[j].method?(jQuery(b).find(".imgContainer").transition({left:c},a[j].duration,a[j].easing),jQuery(b).find(".labelImage").transition({left:0},a[j].duration,a[j].easing)):(jQuery(b).find(".imgContainer").animate({left:c},a[j].duration,a[j].easing),jQuery(b).find(".labelImage").animate({left:0},a[j].duration,a[j].easing)));break;case "slideLeft":"onBottom"!=d.thumbnailLabel.position&&(c=
"-"+h.thumbRealWidth+"px","transit"==a[j].method?(jQuery(b).find(".imgContainer").transition({left:c},a[j].duration,a[j].easing),jQuery(b).find(".labelImage").transition({left:0},a[j].duration,a[j].easing)):(jQuery(b).find(".imgContainer").animate({left:c},a[j].duration,a[j].easing),jQuery(b).find(".labelImage").animate({left:0},a[j].duration,a[j].easing)));break;case "imageSlideUp":"onBottom"!=d.thumbnailLabel.position&&(c="-"+h.thumbRealHeight+"px","transit"==a[j].method?jQuery(b).find(".imgContainer").transition({top:c},
a[j].duration,a[j].easing):jQuery(b).find(".imgContainer").animate({top:c},a[j].duration,a[j].easing));break;case "imageSlideDown":"onBottom"!=d.thumbnailLabel.position&&(c=h.thumbRealHeight+"px","transit"==a[j].method?jQuery(b).find(".imgContainer").transition({top:c},a[j].duration,a[j].easing):jQuery(b).find(".imgContainer").animate({top:c},a[j].duration,a[j].easing));break;case "imageSlideLeft":"onBottom"!=d.thumbnailLabel.position&&(c="-"+h.thumbRealWidth+"px","transit"==a[j].method?jQuery(b).find(".imgContainer").transition({left:c},
a[j].duration,a[j].easing):jQuery(b).find(".imgContainer").animate({left:c},a[j].duration,a[j].easing));break;case "imageSlideRight":"onBottom"!=d.thumbnailLabel.position&&(c=h.thumbRealWidth+"px","transit"==a[j].method?jQuery(b).find(".imgContainer").transition({left:c},a[j].duration,a[j].easing):jQuery(b).find(".imgContainer").animate({left:c},a[j].duration,a[j].easing));break;case "labelAppear":if("onBottom"!=d.thumbnailLabel.position){var m="rgba("+D+","+U+","+A+",1)";jQuery(b).find(".labelImage").animate({backgroundColor:m},
a[j].duration,a[j].easing);jQuery(b).find(".labelImageTitle").animate({opacity:"1"},a[j].duration,a[j].easing);jQuery(b).find(".labelFolderTitle").animate({opacity:"1"},a[j].duration,a[j].easing);jQuery(b).find(".labelDescription").animate({opacity:"1"},a[j].duration,a[j].easing)}break;case "labelAppear75":"onBottom"!=d.thumbnailLabel.position&&(m="rgba("+D+","+U+","+A+",0.75)",jQuery(b).find(".labelImage").animate({backgroundColor:m},a[j].duration,a[j].easing),jQuery(b).find(".labelImageTitle").animate({opacity:"1"},
a[j].duration,a[j].easing),jQuery(b).find(".labelFolderTitle").animate({opacity:"1"},a[j].duration,a[j].easing),jQuery(b).find(".labelDescription").animate({opacity:"1"},a[j].duration,a[j].easing));break;case "labelSlideDown":"onBottom"!=d.thumbnailLabel.position&&("transit"==a[j].method?jQuery(b).find(".labelImage").transition({top:0},a[j].duration,a[j].easing):jQuery(b).find(".labelImage").animate({top:0},a[j].duration,a[j].easing));break;case "labelSlideUpTop":"onBottom"!=d.thumbnailLabel.position&&
("transit"==a[j].method?jQuery(b).find(".labelImage").transition({top:0},a[j].duration,a[j].easing):jQuery(b).find(".labelImage").animate({top:0},a[j].duration,a[j].easing));break;case "labelSlideUp":"onBottom"!=d.thumbnailLabel.position&&("transit"==a[j].method?jQuery(b).find(".labelImage").transition({bottom:0},a[j].duration,a[j].easing):jQuery(b).find(".labelImage").animate({bottom:0},a[j].duration,a[j].easing));break;case "descriptionSlideUp":"overImageOnBottom"==d.thumbnailLabel.position&&("transit"==
a[j].method?jQuery(b).find(".labelImage").transition({top:0},a[j].duration,a[j].easing):jQuery(b).find(".labelImage").animate({top:0},a[j].duration,a[j].easing));break;case "labelOpacity50":"transit"==a[j].method?jQuery(b).find(".labelImage").transition({opacity:0.75},a[j].duration,a[j].easing):jQuery(b).find(".labelImage").animate({opacity:0.75},a[j].duration,a[j].easing);break;case "imageOpacity50":"transit"==a[j].method?jQuery(b).find(".imgContainer").transition({opacity:0.5},a[j].duration,a[j].easing):
jQuery(b).find(".imgContainer").animate({opacity:0.5},a[j].duration,a[j].easing);break;case "borderLighter":"transit"==a[j].method?jQuery(b).transition({borderColor:aa(n,0.5,!1)},a[j].duration,a[j].easing):jQuery(b).animate({borderTopColor:aa(n,0.5,!1),borderRightColor:aa(n,0.5,!1),borderBottomColor:aa(n,0.5,!1),borderLeftColor:aa(n,0.5,!1)},a[j].duration,a[j].easing);break;case "borderDarker":"transit"==a[j].method?jQuery(b).transition({borderColor:aa(n,0.5,!0)},a[j].duration,a[j].easing):jQuery(b).animate({borderTopColor:aa(n,
0.5,!0),borderRightColor:aa(n,0.5,!0),borderBottomColor:aa(n,0.5,!0),borderLeftColor:aa(n,0.5,!0)},a[j].duration,a[j].easing);break;case "imageScale150":"transit"==a[j].method?jQuery(b).find("img").transition({scale:1.5},a[j].duration,a[j].easing):jQuery(b).find("img").animate({scale:1.5},a[j].duration,a[j].easing);break;case "imageScale150Outside":C("",b);"transit"==a[j].method?jQuery(b).find("img").transition({scale:1.5},a[j].duration,a[j].easing):jQuery(b).find("img").animate({scale:1.5},a[j].duration,
a[j].easing);break;case "scale120":C("",b);"transit"==a[j].method?jQuery(b).transition({scale:1.2},a[j].duration,a[j].easing):jQuery(b).animate({scale:1.2},a[j].duration,a[j].easing);break;case "imageFlipHorizontal":"transit"==a[j].method&&(C("",b),c=Math.round(1.2*h.thumbRealHeight)+"px",jQuery(b).find(".imgContainer").transition({perspective:c,rotateX:"180deg"},a[j].duration,a[j].easing),jQuery(b).find(".labelImage").transition({perspective:c,rotateX:"360deg"},a[j].duration,a[j].easing));break;
case "imageFlipVertical":"transit"==a[j].method&&(C("",b),c=Math.round(1.2*h.thumbRealWidth)+"px",jQuery(b).find(".imgContainer").transition({perspective:c,rotateY:"180deg"},a[j].duration,a[j].easing),jQuery(b).find(".labelImage").transition({perspective:c,rotateY:"360deg"},a[j].duration,a[j].easing));break;case "flipHorizontal":"transit"==a[j].method&&(C("",b),c=Math.round(1.2*h.thumbRealHeight)+"px",jQuery(b).transition({perspective:c,rotateX:"180deg"},a[j].duration,a[j].easing));break;case "flipVertical":"transit"==
a[j].method&&(C("",b),c=Math.round(1.2*h.thumbRealWidth)+"px",jQuery(b).transition({perspective:c,rotateY:"180deg"},a[j].duration,a[j].easing));break;case "TEST":jQuery(b).find(".subcontainer").transition({scale:0.8},150).transition({perspective:"50px",rotateX:"180deg"},300,"ease").transition({scale:1},150)}}catch(e){R("error on hover "+e.message)}}}function lb(b){if(!ia){jQuery(b).find("*").stop(!0,!1);var c=jQuery(b).data("index");if(void 0!=c){var h=g[c];h.hovered=!1;try{for(j=0;j<a.length;j++)switch(a[j].name){case "scaleLabelOverImage":"onBottom"!=
d.thumbnailLabel.position&&("transit"==a[j].method?(jQuery(b).find(".labelImage").transition({opacity:"0",scale:"0.5"},a[j].durationBack,a[j].easingBack),jQuery(b).find(".imgContainer").transition({scale:"1"},a[j].durationBack,a[j].easingBack)):(jQuery(b).find(".labelImage").animate({opacity:"0",scale:"0.5"},a[j].durationBack,a[j].easingBack),jQuery(b).find(".imgContainer").animate({scale:"1"},a[j].durationBack,a[j].easingBack)));break;case "overScale":case "overScaleOutside":"onBottom"!=d.thumbnailLabel.position&&
("transit"==a[j].method?(jQuery(b).find(".labelImage").transition({opacity:"0",scale:"1.5"},a[j].durationBack,a[j].easingBack),jQuery(b).find(".imgContainer").transition({opacity:"1",scale:"1"},a[j].durationBack,a[j].easingBack)):(jQuery(b).find(".labelImage").animate({opacity:"0",scale:"1.5"},a[j].durationBack,a[j].easingBack),jQuery(b).find(".imgContainer").animate({opacity:"1",scale:"1"},a[j].durationBack,a[j].easingBack)));break;case "imageInvisible":"transit"==a[j].method?jQuery(b).find(".imgContainer").transition({opacity:"1"},
a[j].durationBack,a[j].easingBack):jQuery(b).find(".imgContainer").animate({opacity:"1"},a[j].durationBack,a[j].easingBack);break;case "rotateCornerBL":"transit"==a[j].method&&"onBottom"!=d.thumbnailLabel.position&&(jQuery(b).find(".labelImage").transition({rotate:"-90deg"},a[j].duration,a[j].easing),jQuery(b).find(".imgContainer").transition({rotate:"0deg"},a[j].duration,a[j].easing));break;case "rotateCornerBR":"transit"==a[j].method&&"onBottom"!=d.thumbnailLabel.position&&(jQuery(b).find(".labelImage").transition({rotate:"90deg"},
a[j].duration,a[j].easing),jQuery(b).find(".imgContainer").transition({rotate:"0deg"},a[j].duration,a[j].easing));break;case "imageRotateCornerBL":case "imageRotateCornerBR":"transit"==a[j].method&&"onBottom"!=d.thumbnailLabel.position&&jQuery(b).find(".imgContainer").transition({rotate:"0"},a[j].durationBack,a[j].easingBack);break;case "slideUp":"onBottom"!=d.thumbnailLabel.position&&(c=h.thumbRealHeight+"px","transit"==a[j].method?(jQuery(b).find(".imgContainer").transition({top:0},a[j].duration,
a[j].easing),jQuery(b).find(".labelImage").transition({top:c},a[j].duration,a[j].easing)):(jQuery(b).find(".imgContainer").animate({top:0},a[j].duration,a[j].easing),jQuery(b).find(".labelImage").animate({top:c},a[j].duration,a[j].easing)));break;case "slideDown":"onBottom"!=d.thumbnailLabel.position&&(c="-"+h.thumbRealHeight+"px","transit"==a[j].method?(jQuery(b).find(".imgContainer").transition({top:0},a[j].duration,a[j].easing),jQuery(b).find(".labelImage").transition({top:c},a[j].duration,a[j].easing)):
(jQuery(b).find(".imgContainer").animate({top:0},a[j].duration,a[j].easing),jQuery(b).find(".labelImage").animate({top:c},a[j].duration,a[j].easing)));break;case "slideRight":"onBottom"!=d.thumbnailLabel.position&&(c="-"+h.thumbRealWidth+"px","transit"==a[j].method?(jQuery(b).find(".imgContainer").transition({left:0},a[j].duration,a[j].easing),jQuery(b).find(".labelImage").transition({left:c},a[j].duration,a[j].easing)):(jQuery(b).find(".imgContainer").animate({left:0},a[j].duration,a[j].easing),
jQuery(b).find(".labelImage").animate({left:c},a[j].duration,a[j].easing)));break;case "slideLeft":"onBottom"!=d.thumbnailLabel.position&&(c=h.thumbRealWidth+"px","transit"==a[j].method?(jQuery(b).find(".imgContainer").transition({left:0},a[j].duration,a[j].easing),jQuery(b).find(".labelImage").transition({left:c},a[j].duration,a[j].easing)):(jQuery(b).find(".imgContainer").animate({left:0},a[j].duration,a[j].easing),jQuery(b).find(".labelImage").animate({left:c},a[j].duration,a[j].easing)));break;
case "imageSlideUp":case "imageSlideDown":case "imageSlideLeft":case "imageSlideRight":"onBottom"!=d.thumbnailLabel.position&&("transit"==a[j].method?(jQuery(b).find(".imgContainer").transition({top:"0"},a[j].durationBack,a[j].easingBack),jQuery(b).find(".imgContainer").transition({left:"0"},a[j].durationBack,a[j].easingBack)):(jQuery(b).find(".imgContainer").animate({top:"0"},a[j].durationBack,a[j].easingBack),jQuery(b).find(".imgContainer").animate({left:"0"},a[j].durationBack,a[j].easingBack)));
break;case "labelAppear":case "labelAppear75":if("onBottom"!=d.thumbnailLabel.position){var m="rgb("+D+","+U+","+A+",0)";jQuery(b).find(".labelImage").animate({backgroundColor:m},a[j].duration,a[j].easing);jQuery(b).find(".labelImageTitle").animate({opacity:"0"},a[j].duration,a[j].easing);jQuery(b).find(".labelFolderTitle").animate({opacity:"0"},a[j].duration,a[j].easing);jQuery(b).find(".labelDescription").animate({opacity:"0"},a[j].duration,a[j].easing)}break;case "labelSlideDown":"onBottom"!=d.thumbnailLabel.position&&
("transit"==a[j].method?jQuery(b).find(".labelImage").transition({top:"-99%"},a[j].durationBack,a[j].easingBack):jQuery(b).find(".labelImage").animate({top:"-99%"},a[j].durationBack,a[j].easingBack));break;case "labelSlideUpTop":c=h.thumbRealHeight+"px";"overImageOnBottom"==d.thumbnailLabel.position&&("transit"==a[j].method?jQuery(b).find(".labelImage").transition({top:c},a[j].duration,a[j].easing):jQuery(b).find(".labelImage").animate({top:c},a[j].duration,a[j].easing));break;case "labelSlideUp":"onBottom"!=
d.thumbnailLabel.position&&("transit"==a[j].method?jQuery(b).find(".labelImage").transition({bottom:"-99%"},a[j].durationBack,a[j].easingBack):jQuery(b).find(".labelImage").animate({bottom:"-99%"},a[j].durationBack,a[j].easingBack));break;case "descriptionSlideUp":if("overImageOnBottom"==d.thumbnailLabel.position){var e=h.thumbRealHeight-(jQuery(b).find(".labelImage").outerHeight(!0)-jQuery(b).find(".labelImage").height())/2-Ha+"px";"transit"==a[j].method?jQuery(b).find(".labelImage").transition({top:e},
a[j].duration,a[j].easing):jQuery(b).find(".labelImage").animate({top:e},a[j].duration,a[j].easing)}break;case "labelOpacity50":"transit"==a[j].method?jQuery(b).find(".labelImage").transition({opacity:x},a[j].durationBack,a[j].easingBack):jQuery(b).find(".labelImage").animate({opacity:x},a[j].durationBack,a[j].easingBack);break;case "imageOpacity50":"transit"==a[j].method?jQuery(b).find(".imgContainer").transition({opacity:1},a[j].duration,a[j].easing):jQuery(b).find(".imgContainer").animate({opacity:1},
a[j].duration,a[j].easing);break;case "borderLighter":case "borderDarker":"transit"==a[j].method?jQuery(b).transition({borderColor:n},a[j].durationBack,a[j].easingBack):jQuery(b).animate({borderTopColor:n,borderRightColor:n,borderBottomColor:n,borderLeftColor:n},a[j].duration,a[j].easing);break;case "imageScale150":case "imageScale150Outside":"transit"==a[j].method?jQuery(b).find("img").transition({scale:1},a[j].durationBack,a[j].easingBack):jQuery(b).find("img").animate({scale:1},a[j].durationBack,
a[j].easingBack);break;case "scale120":"transit"==a[j].method?jQuery(b).transition({scale:1},a[j].durationBack,a[j].easingBack):jQuery(b).animate({scale:1},a[j].durationBack,a[j].easingBack);break;case "imageFlipHorizontal":"transit"==a[j].method&&(c=Math.round(1.2*h.thumbRealHeight)+"px",jQuery(b).find(".imgContainer").transition({perspective:c,rotateX:"0deg"},a[j].duration,a[j].easing),jQuery(b).find(".labelImage").transition({perspective:c,rotateX:"180deg"},a[j].duration,a[j].easing));break;case "imageFlipVertical":"transit"==
a[j].method&&(c=Math.round(1.2*h.thumbRealWidth)+"px",jQuery(b).find(".imgContainer").transition({perspective:c,rotateY:"0deg"},a[j].duration,a[j].easing),jQuery(b).find(".labelImage").transition({perspective:c,rotateY:"180deg"},a[j].duration,a[j].easing));break;case "flipHorizontal":"transit"==a[j].method&&(c=Math.round(1.2*xa)+"px",jQuery(b).transition({perspective:c,rotateX:"0deg"},a[j].durationBack,a[j].easingBack));break;case "flipVertical":"transit"==a[j].method&&(c=Math.round(1.2*h.thumbRealWidth)+
"px",jQuery(b).transition({perspective:c,rotateY:"0deg"},a[j].durationBack,a[j].easingBack));break;case "TEST":jQuery(b).find(".subcontainer").transition({scale:0.85},150).transition({perspective:"50px",rotateX:"0deg"},300,"ease").transition({scale:1},150)}}catch(f){R("error on hoverOut "+f.message)}}}}function ha(a){if("fancybox"==d.viewer){var c=[],h=0;c[h]={};c[h].href=g[a].responsiveURL();c[h].title=g[a].title;for(var m=g.length,e=a+1;e<m;e++)"image"==g[e].kind&&g[e].albumID==g[a].albumID&&""==
g[e].destinationURL&&(h++,c[h]={},c[h].href=g[e].responsiveURL(),c[h].title=g[e].title);for(e=0;e<a;e++)"image"==g[e].kind&&g[e].albumID==g[a].albumID&&""==g[e].destinationURL&&(h++,c[h]={},c[h].href=g[e].responsiveURL(),c[h].title=g[e].title);jQuery.fancybox(c,{autoPlay:!1,nextEffect:"fade",prevEffect:"fade",scrolling:"no",helpers:{buttons:{position:"bottom"}}})}else ia?Ja(a):Ab(a)}function Ab(a){d.locationHash||(top.location.hash="nanogallery/"+ma+"/v");jQuery("body").css("overflow","hidden");N=
jQuery('<div  class="nanoGalleryViewerContainer" style="visibility:visible"></div>').appendTo("body");N.addClass("nanogallery_theme_"+d.theme);Bb(N);T=jQuery('<div  id="nanoGalleryViewer" class="nanoGalleryViewer" style="visibility:visible"></div>').appendTo(N);var c;c='<img class="image imgCurrent" src="//:0" style="visibility:visible;opacity:0;position:absolute;top:0;bottom:0;left:0;right:0;margin:auto;zoom:1;"><img class="image imgNext" src="//:0" style="visibility:visible;opacity:0;position:absolute;top:0;bottom:0;left:0;right:0;margin:auto;zoom:1;">';
w=jQuery('<div class="content">'+c+'<div class="contentAreaPrevious"></div><div class="contentAreaNext"></div></div>').appendTo(T);Sa=jQuery('<div class="closeButtonFloating"></div>').appendTo(T);c="";ob&&(c='<div class="setFullscreenButton fullscreenButton"></div>');G=jQuery('<div class="toolbarContainer"><div class="toolbar"><div class="previousButton"></div><div class="pageCounter"></div><div class="nextButton"></div><div class="playButton playPauseButton"></div>'+c+'<div class="closeButton"></div><div class="label"><div class="title"></div><div class="description"></div></div></div>').appendTo(T);
d.viewerDisplayLogo&&(Ta=jQuery('<div class="nanoLogo"></div>').appendTo(T));C("",T);oa(".imgCurrent");Ka=window.setInterval(function(){oa(".imgCurrent")},100);if("undefined"!==typeof Hammer){var h=0;Hammer(document.getElementById("nanoGalleryViewer"),{drag:!0,transform_always_block:!0,drag_block_horizontal:!0,prevent_default:!1,drag_lock_min_distance:20,hold:!1,release:!0,swipe:!0,tap:!1,touch:!0,transform:!1}).on("drag release",function(a){if(!pa)switch(a.type){case "drag":a.stopPropagation();h=
a.gesture.deltaX;25>Math.abs(h)?w.find(".imgCurrent").css({left:0}):w.find(".imgCurrent").css({left:h});break;case "release":a.gesture.stopPropagation(),a.stopPropagation(),(25>Math.abs(h)||100>(new Date).getTime()-ya)&&w.find(".imgCurrent").css({left:0}),-25>Math.round(h)&&qa(),25<Math.round(h)&&ra(),h=0}})}Sa.on("click",function(a){a.stopPropagation();d.locationHash?na(!0):window.history.back()});G.find(".closeButton").on("click",function(a){a.stopPropagation();d.locationHash?na(!0):window.history.back()});
w.find("img").on("click",function(a){a.stopPropagation();a.pageX<jQuery(window).width()/2?ra():qa()});G.find(".playPauseButton").on("click",function(a){a.stopPropagation();Ua()});G.find(".fullscreenButton").on("click",function(a){a.stopPropagation();pb()});G.find(".nextButton").on("click",function(a){a.stopPropagation();qa()});G.find(".previousButton").on("click",function(a){a.stopPropagation();ra()});w.find(".contentAreaNext").on("click",function(a){a.stopPropagation();qa()});w.find(".contentAreaPrevious").on("click",
function(a){a.stopPropagation();ra()});w.on("click",function(a){100>(new Date).getTime()-ya||(a.stopPropagation(),d.locationHash?na(!0):window.history.back())});Ja(a)}function pb(){La?(document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen&&document.mozCancelFullScreen(),La=!1,G.find(".fullscreenButton").removeClass("removeFullscreenButton").addClass("setFullscreenButton")):
(N[0].requestFullscreen?N[0].requestFullscreen():N[0].webkitRequestFullscreen?N[0].webkitRequestFullscreen():N[0].msRequestFullscreen?N[0].msRequestFullscreen():N[0].mozRequestFullScreen&&N[0].mozRequestFullScreen(),La=!0,G.find(".fullscreenButton").removeClass("setFullscreenButton").addClass("removeFullscreenButton"))}function Ua(){ka?(window.clearInterval(za),ka=!1,G.find(".playPauseButton").removeClass("pauseButton").addClass("playButton")):(ka=!0,G.find(".playPauseButton").removeClass("playButton").addClass("pauseButton"),
Ma(),za=window.setInterval(function(){Ma()},Na))}function qa(){ka&&(window.clearInterval(za),za=window.setInterval(function(){Ma()},Na));Ma()}function Ma(){if(!(pa||100>(new Date).getTime()-ya)){for(var a=g.length,c=-1,d=X+1;d<a;d++)if(g[d].albumID==g[X].albumID&&"image"==g[d].kind){c=d;break}if(-1==c)for(d=0;d<=X;d++)if(g[d].albumID==g[X].albumID&&"image"==g[d].kind){c=d;break}Ja(c,{scrollRight:!0})}}function ra(){if(!(pa||200>(new Date).getTime()-ya)){ka&&Ua();for(var a=-1,c=X-1;0<=c;c--)if(g[c].albumID==
g[X].albumID&&"image"==g[c].kind){a=c;break}if(-1==a)for(c=g.length-1;c>=X;c--)if(g[c].albumID==g[X].albumID&&"image"==g[c].kind){a=c;break}Ja(a,{scrollLeft:!0})}}function Ja(a,c){ya=(new Date).getTime();pa=!0;if(d.locationHash){var h="nanogallery/"+ma+"/"+g[a].albumID+"/"+g[a].GetID();"#"+h!=location.hash?(ga="#"+h,top.location.hash=h):ga=top.location.hash}X=a;var h="-"+1*jQuery(window).width()+"px",e={left:h,opacity:0};void 0!==c&&c.scrollLeft&&!0==c.scrollLeft&&(e={right:h,opacity:0});w.find("*").stop(!0,
!0);w.find(".imgNext").css({opacity:0,right:"0",visibility:"visible"}).attr("src",g[a].responsiveURL());Cb(w,w.find(".imgNext"),w.find(".imgCurrent"));"//:0"==w.find(".imgCurrent").attr("src")?(w.find(".imgCurrent").css({opacity:0}),e=""):oa(".imgNext");Db(a);$.when(w.find(".imgCurrent").animate(e,500),w.find(".imgNext").animate({opacity:1},300)).done(function(){Eb(a)});ia=!0}function Eb(a){w.find(".imgCurrent").remove();var c=w.find(".imgNext"),d=jQuery('<img class="image imgCurrent" src="'+g[a].responsiveURL()+
'" style="visibility:visible;opacity:1;position:absolute;top:0;bottom:0;left:0;right:0;margin:auto;zoom:1;">').insertBefore(c);c.remove();for(var c="//:0",e=g.length,f=a+1;f<e;f++)if(g[f].albumID==g[a].albumID&&"image"==g[f].kind){c=g[f].responsiveURL();break}jQuery('<img class="image imgNext" src="'+c+'" style="visibility:visible;opacity:0;position:absolute;top:0;bottom:0;left:0;right:0;margin:auto;zoom:1;">').insertBefore(d);d.on("click",function(a){a.stopPropagation();a.pageX<jQuery(window).width()/
2?ra():qa()});oa(".imgCurrent");pa=!1}function Db(a){C(T,w.find(".contentAreaPrevious"));C(T,w.find(".contentAreaPrevious"));C(T,w.find(".contentAreaNext"));C(T,Sa);null!==Ta&&C(T,Ta);void 0!==g[a].title?G.find(".title").html(g[a].title):G.find(".title").html("");void 0!==g[a].description?G.find(".description").html(g[a].description):G.find(".description").html("");for(var c=0,d=g.length,e=0;e<d;e++)g[e].albumID==g[a].albumID&&"image"==g[e].kind&&c++;0<c&&G.find(".pageCounter").html(g[a].imageNumber+
1+"/"+c)}function na(a){pa&&w.find("*").stop(!0,!0);ia&&(window.clearInterval(Ka),ka&&(window.clearInterval(za),ka=!1),La&&pb(),ia=!1,N.off().remove(),jQuery("body").css("overflow","inherit"),-1!=Da?t(Da,!0):(d.locationHash&&a&&(a="nanogallery/"+ma+"/"+g[X].albumID,ga="#"+a,top.location.hash=a),nb()))}function oa(a){window.clearInterval(Ka);Ka=window.setInterval(function(){oa(".imgCurrent")},500);var c=jQuery(window).width(),d=jQuery(window).height();T.css({visibility:"visible",position:"fixed"});
var e=w.find(a);a=Math.abs(w.outerHeight(!0)-w.height());var g=Math.abs(w.outerHeight(!0)-w.height()),f=e.outerHeight(!1)-e.innerHeight(),l=Math.abs(e.outerWidth(!1)-e.innerWidth()),k=Math.abs(e.innerHeight()-e.height()),q=Math.abs(e.innerHeight()-e.height()),f=f+k,q=l+q,l=G.outerHeight(!0),k=d-l-a,c=c-g;w.css({height:k,width:c});w.children("img").css({"max-width":c-f,"max-height":k-q});-1!=X&&(c=e.outerHeight(!1),G.css({bottom:(d-l-c-a)/2}))}function Fb(a){var c=null;switch(ba(d.colorScheme)){case "object":c=
qb;jQuery.extend(!0,c,d.colorScheme);g_colorSchemeLabel="nanogallery_colorscheme_custom";break;case "string":switch(d.colorScheme){case "none":return;case "light":c=Gb;g_colorSchemeLabel="nanogallery_colorscheme_light";break;case "lightBackground":c=Hb;g_colorSchemeLabel="nanogallery_colorscheme_lightBackground";break;case "darkRed":c=Ib;g_colorSchemeLabel="nanogallery_colorscheme_darkred";break;case "darkGreen":c=Jb;g_colorSchemeLabel="nanogallery_colorscheme_darkgreen";break;case "darkBlue":c=Kb;
g_colorSchemeLabel="nanogallery_colorscheme_darkblue";break;case "darkOrange":c=Lb;g_colorSchemeLabel="nanogallery_colorscheme_darkorange";break;default:c=qb,g_colorSchemeLabel="nanogallery_colorscheme_default"}break;default:R("Error in colorScheme parameter.");return}var e="."+g_colorSchemeLabel+" ",m=e+".nanoGalleryNavigationbar { background:"+c.navigationbar.background+"; }\n";void 0!==c.navigationbar.border&&(m+=e+".nanoGalleryNavigationbar { border:"+c.navigationbar.border+"; }\n");void 0!==
c.navigationbar.borderTop&&(m+=e+".nanoGalleryNavigationbar { border-top:"+c.navigationbar.borderTop+"; }\n");void 0!==c.navigationbar.borderBottom&&(m+=e+".nanoGalleryNavigationbar { border-bottom:"+c.navigationbar.borderBottom+"; }\n");void 0!==c.navigationbar.borderRight&&(m+=e+".nanoGalleryNavigationbar { border-right:"+c.navigationbar.borderRight+"; }\n");void 0!==c.navigationbar.borderLeft&&(m+=e+".nanoGalleryNavigationbar { border-left:"+c.navigationbar.borderLeft+"; }\n");m+=e+".nanoGalleryNavigationbar .folder  { color:"+
c.navigationbar.color+"; }\n";m+=e+".nanoGalleryNavigationbar .separator  { color:"+c.navigationbar.color+"; }\n";m+=e+".nanoGalleryNavigationbar .nanoGalleryTags { color:"+c.navigationbar.color+"; }\n";m+=e+".nanoGalleryNavigationbar .folder:hover { color:"+c.navigationbar.colorHover+"; }\n";m+=e+".nanoGalleryNavigationbar .separator:hover { color:"+c.navigationbar.colorHover+"; }\n";m+=e+".nanoGalleryNavigationbar .nanoGalleryTags:hover { color:"+c.navigationbar.colorHover+"; }\n";m+=e+".nanoGalleryContainer .container { background:"+
c.thumbnail.background+"; border:"+c.thumbnail.border+"; }\n";m+=e+".nanoGalleryContainer .container .imgContainer { background:"+c.thumbnail.background+"; }\n";m+=e+".nanoGalleryContainer .container .labelImage { background:"+c.thumbnail.labelBackground+"; }\n";m+=e+".nanoGalleryContainer .container .labelImageTitle { color:"+c.thumbnail.titleColor+"; }\n";m+=e+".nanoGalleryContainer .container .labelDescription { color:"+c.thumbnail.descriptionColor+"; }\n";jQuery("head").append("<style>"+m+"</style>");
jQuery(a).addClass(g_colorSchemeLabel)}function Bb(a){var c=null;switch(ba(d.colorSchemeViewer)){case "object":c=rb;jQuery.extend(!0,c,d.colorSchemeViewer);g_colorSchemeLabel="nanogallery_colorschemeviewer_custom";break;case "string":switch(d.colorSchemeViewer){case "none":return;case "light":c=Mb;g_colorSchemeLabel="nanogallery_colorschemeviewer_light";break;case "darkRed":c=Nb;g_colorSchemeLabel="nanogallery_colorschemeviewer_darkred";break;case "darkGreen":c=Ob;g_colorSchemeLabel="nanogallery_colorschemeviewer_darkgreen";
break;case "darkBlue":c=Pb;g_colorSchemeLabel="nanogallery_colorschemeviewer_darkblue";break;case "darkOrange":c=Qb;g_colorSchemeLabel="nanogallery_colorschemeviewer_darkorange";break;default:c=rb,g_colorSchemeLabel="nanogallery_colorschemeviewer_default"}break;default:R("Error in colorSchemeViewer parameter.");return}var e="."+g_colorSchemeLabel+" ",m=e+".nanoGalleryViewer { background:"+c.background+"; }\n",m=m+(e+".nanoGalleryViewer .content img { border:"+c.imageBorder+"; box-shadow:"+c.imageBoxShadow+
"; }\n"),m=m+(e+".nanoGalleryViewer .toolbar { background:"+c.barBackground+"; border:"+c.barBorder+"; color:"+c.barColor+"; }\n"),m=m+(e+".nanoGalleryViewer .toolbar .previousButton:after { background:"+c.barBackground+"; color:"+c.barColor+"; }\n"),m=m+(e+".nanoGalleryViewer .toolbar .nextButton:after { background:"+c.barBackground+"; color:"+c.barColor+"; }\n"),m=m+(e+".nanoGalleryViewer .toolbar .closeButton:after { background:"+c.barBackground+"; color:"+c.barColor+"; }\n"),m=m+(e+".nanoGalleryViewer .toolbar .label { background:"+
c.barBackground+"; }\n"),m=m+(e+".nanoGalleryViewer .toolbar .label .title { background:"+c.barBackground+"; color:"+c.barColor+"; }\n"),m=m+(e+".nanoGalleryViewer .toolbar .label .description { background:"+c.barBackground+"; color:"+c.barDescriptionColor+"; }\n");jQuery("head").append("<style>"+m+"</style>");jQuery(a).addClass(g_colorSchemeLabel)}function R(a){alert("nanoGALLERY: "+a);Q(a)}function Q(a){window.console&&console.log("nanoGALLERY: "+a)}function ib(a,c){var d,e,g,f;f=jQuery(window);
d=f.scrollLeft();e=f.scrollTop();g=f.width();f=f.height();var l=jQuery(a).offset(),k=jQuery(a).outerHeight(!0),q=jQuery(a).outerWidth(!0);return l.top>=e-c&&l.top+k<=e+f+c&&l.left>=d-c&&l.left+q<=d+g+c?!0:!1}function C(a,c){var d=0;""==a&&(a="*");jQuery(a).each(function(){var a=parseInt(jQuery(this).css("z-index"));d=a>d?a:d});d++;jQuery(c).css("z-index",d)}function Cb(a,c,d){var e=0;""==a&&(a="*");jQuery(a).each(function(){var a=parseInt(jQuery(this).css("z-index"));e=a>e?a:e});e++;jQuery(d).css("z-index",
e+1);jQuery(c).css("z-index",e)}var d=null,sa=null,P=null,W=null,jb=null,L=null,H=null,fb=null,Qa=null,ja=null,gb=!1,N=null,T=null,ia=!1,Sa=null,w=null,G=null,Ta=null,g=[],Ia=0,K=0,xa=0,Ha=0,Aa=null,Ba=null,Ca=null,ua=64,Va=[32,48,64,72,94,104,110,128,144,150,160,200,220,288,320,400,512,576,640,720,800,912,1024,1152,1280,1440,1600],da="sq",sb=[75,100,150,240,500,640],Rb="sq t q s m z".split(" "),Ea="sq",tb=[75,100,150,240,500,640,1E4],Sb="sq t q s m z o".split(" "),bb="2f0e634b471fdb47446abcb9c5afebdc",
wa=0,X=-1,ka=!1,za=0,Na=3E3,ta=30,Oa=100,ob=!1,La=!1,ca=!1,J="";Y="Previous";Z="Next";r="List of Albums";fa=V=O=y="";var ya=0,S=1,I=0,E=0,a=[],ma=null,Pa=-1,ga="",pa=!1,Ka=-1,Da=-1;A=U=D=x=n=void 0;var qb={navigationbar:{background:"none",borderTop:"1px solid #555",borderBottom:"1px solid #555",borderRight:"",borderLeft:"",color:"#ccc",colorHover:"#fff"},thumbnail:{background:"#000",border:"1px solid #000",labelBackground:"rgba(34, 34, 34, 0.75)",titleColor:"#eee",descriptionColor:"#ccc"}},Ib={navigationbar:{background:"#a60000",
border:"1px dotted #ff0000",color:"#ccc",colorHover:"#fff"},thumbnail:{background:"#a60000",border:"1px solid #ff0000",labelBackground:"rgba(134, 0, 0, 0.75)",titleColor:"#eee",descriptionColor:"#ccc"}},Jb={navigationbar:{background:"#008500",border:"1px dotted #00cc00",color:"#ccc",colorHover:"#fff"},thumbnail:{background:"#008500",border:"1px solid #00cc00",labelBackground:"rgba(0, 105, 0, 0.75)",titleColor:"#eee",descriptionColor:"#ccc"}},Kb={navigationbar:{background:"#071871",border:"1px dotted #162ea2",
color:"#ccc",colorHover:"#fff"},thumbnail:{background:"#071871",border:"1px solid #162ea2",labelBackground:"rgba(7, 8, 81, 0.75)",titleColor:"#eee",descriptionColor:"#ccc"}},Lb={navigationbar:{background:"#a67600",border:"1px dotted #ffb600",color:"#ccc",colorHover:"#fff"},thumbnail:{background:"#a67600",border:"1px solid #ffb600",labelBackground:"rgba(134, 86, 0, 0.75)",titleColor:"#eee",descriptionColor:"#ccc"}},Gb={navigationbar:{background:"#ddd",border:"1px dotted #999",color:"#eee",colorHover:"#000"},
thumbnail:{background:"#fff",border:"1px solid #fff",labelBackground:"rgba(170, 170, 170, 0.75)",titleColor:"#fff",descriptionColor:"#eee"}},Hb={navigationbar:{background:"none",border:"",color:"#000",colorHover:"#444"},thumbnail:{background:"#000",border:"1px solid #fff",labelBackground:"rgba(170, 170, 170, 0.85)",titleColor:"#fff",descriptionColor:"#eee"}},rb={background:"rgba(1, 1, 1, 0.75)",imageBorder:"6px solid #f8f8f8",imageBoxShadow:"#888 0px 0px 20px",barBackground:"#222",barBorder:"2px solid #111",
barColor:"#eee",barDescriptionColor:"#aaa"},Nb={background:"rgba(1, 1, 1, 0.75)",imageBorder:"6px solid #ffa3a3",imageBoxShadow:"#ff0000 0px 0px 20px",barBackground:"#a60000",barBorder:"2px solid #111",barColor:"#eee",barDescriptionColor:"#aaa"},Ob={background:"rgba(1, 1, 1, 0.75)",imageBorder:"6px solid #97e697",imageBoxShadow:"#00cc00 0px 0px 20px",barBackground:"#008500",barBorder:"2px solid #111",barColor:"#eee",barDescriptionColor:"#aaa"},Pb={background:"rgba(1, 1, 1, 0.75)",imageBorder:"6px solid #a0b0d7",
imageBoxShadow:"#162ea2 0px 0px 20px",barBackground:"#071871",barBorder:"2px solid #111",barColor:"#eee",barDescriptionColor:"#aaa"},Qb={background:"rgba(1, 1, 1, 0.75)",imageBorder:"6px solid #ffd7b7",imageBoxShadow:"#ffb600 0px 0px 20px",barBackground:"#a67600",barBorder:"2px solid #111",barColor:"#eee",barDescriptionColor:"#aaa"},Mb={background:"rgba(1, 1, 1, 0.75)",imageBorder:"6px solid #f8f8f8",imageBoxShadow:"#888 0px 0px 20px",barBackground:"#222",barBorder:"2px solid #111",barColor:"#eee",
barDescriptionColor:"#aaa"},ub=function(){function a(b,d){var e=0,e=void 0===d||null===d?c++:d;this.GetID=function(){return e};this.title=b;this.thumbsrc="";this.thumbRealHeight=this.thumbRealWidth=this.thumbHeight=this.thumbWidth=0;this.src="";this.height=this.width=0;this.kind=this.destinationURL=this.description="";this.hovered=!1;this.$elt=null;this.contentIsLoaded=!1;this.albumID=this.imageNumber=this.contentLength=0}var c=1;a.get_nextId=function(){return c};a.prototype={responsiveURL:function(){var a=
"";switch(d.kind){case "":a=this.src;break;case "flickr":a=this.src;break;default:a=this.src}return a}};return a}();this.Initiate=function(a,c){d=c;sa=a;ma=jQuery(a).attr("id");jQuery.support.transition&&(ca=!0);jQuery(a).addClass("nanogallery_theme_"+d.theme);Fb(a);s();ja=jQuery('<div class="nanoGalleryNavigationbarContainer"></div>').appendTo(a);jQuery(ja).hide();Qa=jQuery('<div class="nanoGalleryNavigationbar"></div>').appendTo(ja);H=jQuery('<div class="nanoGalleryBreadcrumb"></div>').appendTo(Qa);
P=jQuery('<div class="nanoGalleryContainerParent"></div>').appendTo(a);W=jQuery('<div class="nanoGalleryContainer"></div>').appendTo(P);var h=jQuery('<div class="nanogalleryHideElement '+jQuery(a).attr("class")+'"></div>').appendTo("body"),h=jQuery('<div class="nanoGalleryContainerParent"></div>').appendTo(h);jb=jQuery('<div class="nanoGalleryContainer"></div>').appendTo(h);if(0<I||0<E)L=jQuery('<div class="nanoGalleryPagination"></div>').appendTo(P),la();e();document.fullscreenEnabled||document.webkitFullscreenEnabled||
document.msFullscreenEnabled||document.mozFullScreenEnabled?ob=!0:Q("Your browser doesn\u2019t support the fullscreen API. Fullscreen button will not be displayed.");g=[];var h=Math.max(window.screen.width,window.screen.height),m=0,m="auto"==d.thumbnailHeight?d.thumbnailWidth:"auto"==d.thumbnailWidth?d.thumbnailHeight:Math.max(d.thumbnailWidth,d.thumbnailHeight);switch(d.kind){case "":M(r,"","","","","album","","0","-1");0<d.itemsBaseURL.length&&(d.itemsBaseURL+="/");void 0!==d.items&&null!==d.items?
(f(),k(!1)||t(0,!1)):(h=jQuery(a).children("a"),0<h.length?(B(h),k(!1)||t(0,!1)):R("error: no image to process."));break;case "getsimple":return;case "flickr":for(p=0;p<sb.length&&!(da=Rb[p],m<sb[p]);p++);for(p=0;p<tb.length&&!(Ea=Sb[p],h<tb[p]);p++);0<d.photoset.length?M(r,"","","","","album","",d.photoset,"-1"):M(r,"","","","","album","","0","-1");v(0,!0,-1,!1);break;default:for(var p=0;p<Va.length&&!(ua=Va[p],m<Va[p]);p++);0<d.album.length?M(r,"","","","","album","",d.album,"-1"):M(r,"","","",
"","album","","0","-1");F(0,!0,-1,!1)}var l=0;jQuery(window).resize(function(){l&&clearTimeout(l);ia?oa(".imgCurrent"):l=setTimeout(function(){Fa();hb()},50)});var q=0;jQuery(window).on("scroll",function(){q&&clearTimeout(q);q=setTimeout(function(){hb()},200)});jQuery(document).keyup(function(a){if(ia)switch(a.keyCode){case 27:d.locationHash?na(!0):window.history.back();break;case 32:case 13:Ua();break;case 38:case 39:case 33:qa();break;case 40:case 37:case 34:ra()}});jQuery(window).bind("hashchange",
function(a){d.locationHash?k(!0):0==location.hash.length&&na()})};(function(a){jQuery.fn.nanoGalleryDemo=function(c){function d(a,b,c,g,h,l,k){jQuery(f).find("[name=lHoverEffect1]").val(a);jQuery(f).find("[name=lHoverEffect2]").val(b);jQuery(f).find("[name=lHoverEffect3]").val(c);jQuery(f).find("input:radio[name=thumbnailLabelPosition]").val([g]);jQuery(f).find("[name=thumbnailLabelDisplay]").prop("checked",h);jQuery(f).find("[name=thumbnailLabelDisplayDescription]").prop("checked",l);jQuery(f).find("input:radio[name=backgroundColor]").val([k]);
e()}function e(){q.thumbnailHoverEffect=[];var a=jQuery(f).find("[name=lHoverEffect1] option:selected").text();"none"!=a&&""!=a&&(a=a.replace("*",""),q.thumbnailHoverEffect.push({name:a,duration:200,durationBack:200,easing:"swing",easingBack:"swing"}));a=jQuery(f).find("[name=lHoverEffect2] option:selected").text();"none"!=a&&""!=a&&(a=a.replace("*",""),q.thumbnailHoverEffect.push({name:a,duration:200,durationBack:200,easing:"swing",easingBack:"swing"}));a=jQuery(f).find("[name=lHoverEffect3] option:selected").text();
"none"!=a&&""!=a&&(a=a.replace("*",""),q.thumbnailHoverEffect.push({name:a,duration:200,durationBack:200,easing:"swing",easingBack:"swing"}));a=+parseInt(jQuery(f).find("[name=thumbWidth]").val(),10);10<=a&&500>=a&&(jQuery(f).find("[name=thumbWidth]").val(a),q.thumbnailWidth=a);a=parseInt(jQuery(f).find("[name=thumbHeight]").val(),10);10<=a&&500>=a&&(jQuery(f).find("[name=thumbHeight]").val(a),q.thumbnailHeight=a);q.thumbnailLabel.position=jQuery(f).find("input[name=thumbnailLabelPosition]:checked",
f).val();q.thumbnailLabel.display=jQuery(f).find("[name=thumbnailLabelDisplay]").prop("checked");q.thumbnailLabel.displayDescription=jQuery(f).find("[name=thumbnailLabelDisplayDescription]").prop("checked");q.colorScheme=jQuery(f).find("input[name=colorScheme]:checked",f).val();q.theme=jQuery(f).find("input[name=cssFile]:checked",f).val();"dark"==jQuery(f).find("input[name=backgroundColor]:checked",f).val()?jQuery(f).css("background","#222"):jQuery(f).css("background","#eee");jQuery(l).animate({opacity:0,
height:0},200).promise().done(function(){jQuery(l).remove();l=jQuery(k).appendTo(g);(new nanoGALLERY).Initiate(l,q)})}var g=null,f=null,l=null,k=null,q=a.extend(!0,{userID:"",kind:"",album:"",photoset:"",blackList:"scrapbook|profil",whiteList:"",albumList:"",galleryToolbarWidthAligned:!0,displayBreadcrumb:!1,theme:"default",colorScheme:"none",colorSchemeViewer:"none",items:null,itemsBaseURL:"",maxItemsPerLine:0,paginationMaxItemsPerPage:0,paginationMaxLinesPerPage:0,maxWidth:0,viewer:"internal",viewerDisplayLogo:!1,
thumbnailWidth:230,thumbnailHeight:154,thumbnailHoverEffect:null,thumbnailLabel:{position:"overImageOnBottom",display:!0,displayDescription:!1},thumbnailDisplayInterval:30,thumbnailDisplayTransition:!0,thumbnailLazyLoad:!1,thumbnailLazyLoadTreshold:100,touchAnimation:!0,useTags:!1,preset:"none",locationHash:!1,slideshowDelay:3E3},c);return this.each(function(a){k=jQuery(this)[0].outerHTML;g=jQuery('<div class="nanoGalleryDemo" style="padding:5px"></div>').replaceAll(this);a='<option style="color:#000">none</option><option style="color:#000">slideUp</option><option style="color:#000">slideDown</option><option style="color:#000">slideLeft</option><option style="color:#000">slideRight</option><option style="color:#000">imageSlideUp</option><option style="color:#000">imageSlideDown</option><option style="color:#000">imageSlideLeft</option><option style="color:#000">imageSlideRight</option>';
a+='<option style="color:#000">labelAppear</option><option style="color:#000">labelAppear75</option><option style="color:#000">labelSlideDown</option><option style="color:#000">labelSlideUp</option>';a+='<option style="color:#000">labelOpacity50</option><option style="color:#000">imageOpacity50</option><option style="color:#000">descriptionSlideUp</option>';a+='<option style="color:#000">borderLighter</option><option style="color:#000">borderDarker</option><option style="color:#000">imageInvisible</option>';
a+='<option style="color:#000"></option><option style="color:#000">imageScale150*</option><option style="color:#000">imageScale150Outside*</option><option style="color:#000">scale120*</option>';a+='<option style="color:#000">overScale*</option>';a+='<option style="color:#000">overScaleOutside*</option><option style="color:#000">scaleLabelOverImage*</option>';a+='<option style="color:#000">imageFlipHorizontal*</option><option style="color:#000">imageFlipVertical*</option>';a+='<option style="color:#000">rotateCornerBR*</option><option style="color:#000">rotateCornerBL*</option><option style="color:#000">imageRotateCornerBR*</option><option style="color:#000">imageRotateCornerBL*</option>';
var b;b='<div style="line-height:normal;margin:10px auto 30px auto;text-align:center;border:1px solid #555;background:#000;padding:5px;font-size:1.2em;"><span style="color:#d3d3d3;">nano</span><span style="color:#6e6;">GALLERY</span> - demonstration panel</div>'+('<div style="display:inline-block;">Thumbnail hover effects:&nbsp;<select name="lHoverEffect1" style="color:#000">'+a+"</select>");b+='&nbsp;<select name="lHoverEffect2" style="color:#000">'+a+"</select>";b+='&nbsp;<select name="lHoverEffect3" style="color:#000">'+
a+"</select></div>";b+='<br><div style="display:inline-block;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*: requires Transit plugin</div><br><br><div style="display:inline-block;">Thumbnail size:&nbsp;Width (px):&nbsp;<input type="text" name="thumbWidth" value="120" style="width:50px;color:#000">&nbsp;&nbsp;Height (px):&nbsp;<input type="text" name="thumbHeight" value="120" style="width:50px;color:#000"></div>';b+="<br><div>Thumbnail label: </div>";b+='&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Position: <form style="display:inline-block;"><input type="radio" name="thumbnailLabelPosition" value="overImageOnBottom" checked style="margin:0">overImageOnBottom&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input type="radio" name="thumbnailLabelPosition" value="overImageOnTop" style="margin:0">overImageOnTop&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input type="radio" name="thumbnailLabelPosition" value="onBottom" style="margin:0">onBottom</form>';
b+='&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input type="checkbox" name="thumbnailLabelDisplay" value="true" checked style="margin:0">Display label';b+='&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input type="checkbox" name="thumbnailLabelDisplayDescription" value="true" style="margin:0">Display description';b+="<br><div>Color scheme: <br>";b+='&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<form style="display:inline-block;"><input type="radio" name="colorScheme" value="none" style="margin:0">none &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input type="radio" name="colorScheme" value="dark" checked style="margin:0">dark &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input type="radio" name="colorScheme" value="darkRed" style="margin:0">darkRed &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;';
b+='<input type="radio" name="colorScheme" value="darkGreen" style="margin:0">darkGreen &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input type="radio" name="colorScheme" value="darkBlue" style="margin:0">darkBlue &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;';b+='<input type="radio" name="colorScheme" value="darkOrange" style="margin:0">darkOrange &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input type="radio" name="colorScheme" value="light" style="margin:0">light';b+="</form></div>";b+="<div>CSS file: <br>";b+='&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<form style="display:inline-block;"><input type="radio" name="cssFile" value="default" checked style="margin:0">default &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input type="radio" name="cssFile" value="clean" style="margin:0">clean</form></div>';
b+="<div>Background color (not a nanoGALLERY parameter): <br>";b+='&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<form style="display:inline-block;"><input type="radio" name="backgroundColor" value="dark" checked style="margin:0">Dark&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input type="radio" name="backgroundColor" value="light" style="margin:0">Light</form></div>';b+='<div style="display:table;margin:auto;"><button name="bGo" "type="button" style="color:#000;padding:5px 15px;margin:5px;">--\x3e Launch</button></div>';b+=
'<hr style="margin:0px;"><div style="display:table;margin:15px auto;text-align:center;">';b+='<button name="bPreset1" "type="button" style="color:#000;padding:4px;">Preset 1</button>';b+='<button name="bPreset2" type="button" style="color:#000;padding:4px;">Preset 2</button>';b+='<button name="bPreset3" type="button" style="color:#000;padding:4px;">Preset 3</button>';b+='<button name="bPreset4" type="button" style="color:#000;padding:4px;">Preset 4</button>';b+='<button name="bPreset5" type="button" style="color:#000;padding:4px;">Preset 5</button></div>';
f=jQuery(g).append('<div class="nanoGalleryDemoPanel" style="display:table;border:2px solid #666;background:#555;margin:10px auto;padding:5px;font-size:0.8em;">'+b+"</div>");l=jQuery(k).appendTo(g);jQuery(f).find("[name=lHoverEffect1]").val("borderLighter");(new nanoGALLERY).Initiate(l,q);jQuery(f).find("button[name=bGo]").on("click",function(){e()});jQuery(f).find("button[name=bPreset1]").on("click",function(){d("borderLighter","imageSlideRight","none","overImageOnBottom",!0,!0,"dark")});jQuery(f).find("button[name=bPreset2]").on("click",
function(){d("imageRotateCornerBL*","scale120*","borderLighter","overImageOnBottom",!0,!0,"dark")});jQuery(f).find("button[name=bPreset3]").on("click",function(){d("imageScale150*","labelSlideUp","none","overImageOnBottom",!0,!1,"dark")});jQuery(f).find("button[name=bPreset4]").on("click",function(){d("imageInvisible","imageScale150Outside*","none","overImageOnBottom",!0,!1,"light")});jQuery(f).find("button[name=bPreset5]").on("click",function(){d("descriptionSlideUp","borderLighter","none","overImageOnBottom",
!0,!0,"dark")})})}})(jQuery);var ba=function(a){return{}.toString.call(a).match(/\s([a-zA-Z]+)/)[1].toLowerCase()},aa=function(a,c,d){a=a.replace(/^\s*|\s*$/,"");a=a.replace(/^#?([a-f0-9])([a-f0-9])([a-f0-9])$/i,"#$1$1$2$2$3$3");c=Math.round(256*c)*(d?-1:1);var e=a.match(RegExp("^rgba?\\(\\s*(\\d|[1-9]\\d|1\\d{2}|2[0-4][0-9]|25[0-5])\\s*,\\s*(\\d|[1-9]\\d|1\\d{2}|2[0-4][0-9]|25[0-5])\\s*,\\s*(\\d|[1-9]\\d|1\\d{2}|2[0-4][0-9]|25[0-5])(?:\\s*,\\s*(0|1|0?\\.\\d+))?\\s*\\)$","i")),f=e&&null!=e[4]?e[4]:
null;a=e?[e[1],e[2],e[3]]:a.replace(/^#?([a-f0-9][a-f0-9])([a-f0-9][a-f0-9])([a-f0-9][a-f0-9])/i,function(a,b,c,d){return parseInt(b,16)+","+parseInt(c,16)+","+parseInt(d,16)}).split(/,/);return e?"rgb"+(null!==f?"a":"")+"("+Math[d?"max":"min"](parseInt(a[0],10)+c,d?0:255)+", "+Math[d?"max":"min"](parseInt(a[1],10)+c,d?0:255)+", "+Math[d?"max":"min"](parseInt(a[2],10)+c,d?0:255)+(null!==f?", "+f:"")+")":["#",Wa(Math[d?"max":"min"](parseInt(a[0],10)+c,d?0:255).toString(16),2),Wa(Math[d?"max":"min"](parseInt(a[1],
10)+c,d?0:255).toString(16),2),Wa(Math[d?"max":"min"](parseInt(a[2],10)+c,d?0:255).toString(16),2)].join("")},Wa=function(a,c){for(a+="";a.length<c;)a="0"+a;return a}}
(function(n,x){function D(e,k,l){var f=O[k.type]||{};if(null==e)return l||!k.def?null:k.def;e=f.floor?~~e:parseFloat(e);return isNaN(e)?k.def:f.mod?(e+f.mod)%f.mod:0>e?0:f.max<e?f.max:e}function U(e){var k=r(),l=k._rgba=[];e=e.toLowerCase();s(Z,function(f,n){var v,q=n.re.exec(e);v=q&&n.parse(q);q=n.space||"rgba";if(v)return v=k[q](v),k[y[q].cache]=v[y[q].cache],l=k._rgba=v._rgba,!1});return l.length?("0,0,0,0"===l.join()&&n.extend(l,la.transparent),k):la[e]}function A(e,k,l){l=(l+1)%1;return 1>6*
l?e+(k-e)*l*6:1>2*l?k:2>3*l?e+(k-e)*(2/3-l)*6:e}var Y=/^([\-+])=\s*(\d+\.?\d*)/,Z=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],
16),parseInt(e[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],r=n.Color=function(e,k,l,f){return new n.Color.fn.parse(e,k,l,f)},y={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},
hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},O={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},V=r.support={},fa=n("<p>")[0],la,s=n.each;fa.style.cssText="background-color:rgba(1,1,1,.5)";V.rgba=-1<fa.style.backgroundColor.indexOf("rgba");s(y,function(e,k){k.cache="_"+e;k.props.alpha={idx:3,type:"percent",def:1}});r.fn=n.extend(r.prototype,{parse:function(e,k,l,f){if(e===x)return this._rgba=[null,null,null,null],
this;if(e.jquery||e.nodeType)e=n(e).css(k),k=x;var B=this,v=n.type(e),q=this._rgba=[];k!==x&&(e=[e,k,l,f],v="array");if("string"===v)return this.parse(U(e)||la._default);if("array"===v)return s(y.rgba.props,function(f,l){q[l.idx]=D(e[l.idx],l)}),this;if("object"===v)return e instanceof r?s(y,function(f,l){e[l.cache]&&(B[l.cache]=e[l.cache].slice())}):s(y,function(f,l){var k=l.cache;s(l.props,function(f,q){if(!B[k]&&l.to){if("alpha"===f||null==e[f])return;B[k]=l.to(B._rgba)}B[k][q.idx]=D(e[f],q,!0)});
B[k]&&0>n.inArray(null,B[k].slice(0,3))&&(B[k][3]=1,l.from&&(B._rgba=l.from(B[k])))}),this},is:function(e){var k=r(e),l=!0,f=this;s(y,function(e,n){var q,r=k[n.cache];r&&(q=f[n.cache]||n.to&&n.to(f._rgba)||[],s(n.props,function(e,f){if(null!=r[f.idx])return l=r[f.idx]===q[f.idx]}));return l});return l},_space:function(){var e=[],k=this;s(y,function(l,f){k[f.cache]&&e.push(l)});return e.pop()},transition:function(e,k){var l=r(e),f=l._space(),n=y[f],v=0===this.alpha()?r("transparent"):this,q=v[n.cache]||
n.to(v._rgba),ea=q.slice(),l=l[n.cache];s(n.props,function(e,f){var n=f.idx,t=q[n],r=l[n],v=O[f.type]||{};null!==r&&(null===t?ea[n]=r:(v.mod&&(r-t>v.mod/2?t+=v.mod:t-r>v.mod/2&&(t-=v.mod)),ea[n]=D((r-t)*k+t,f)))});return this[f](ea)},blend:function(e){if(1===this._rgba[3])return this;var k=this._rgba.slice(),l=k.pop(),f=r(e)._rgba;return r(n.map(k,function(e,k){return(1-l)*f[k]+l*e}))},toRgbaString:function(){var e="rgba(",k=n.map(this._rgba,function(e,f){return null==e?2<f?1:0:e});1===k[3]&&(k.pop(),
e="rgb(");return e+k.join()+")"},toHslaString:function(){var e="hsla(",k=n.map(this.hsla(),function(e,f){null==e&&(e=2<f?1:0);f&&3>f&&(e=Math.round(100*e)+"%");return e});1===k[3]&&(k.pop(),e="hsl(");return e+k.join()+")"},toHexString:function(e){var k=this._rgba.slice(),l=k.pop();e&&k.push(~~(255*l));return"#"+n.map(k,function(e){e=(e||0).toString(16);return 1===e.length?"0"+e:e}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}});r.fn.parse.prototype=r.fn;
y.hsla.to=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var k=e[0]/255,l=e[1]/255,f=e[2]/255;e=e[3];var n=Math.max(k,l,f),r=Math.min(k,l,f),q=n-r,s=n+r,F=0.5*s,s=0===q?0:0.5>=F?q/s:q/(2-s);return[Math.round(r===n?0:k===n?60*(l-f)/q+360:l===n?60*(f-k)/q+120:60*(k-l)/q+240)%360,s,F,null==e?1:e]};y.hsla.from=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var k=e[0]/360,l=e[1],f=e[2];e=e[3];l=0.5>=f?f*(1+l):f+l-f*l;f=2*f-l;return[Math.round(255*
A(f,l,k+1/3)),Math.round(255*A(f,l,k)),Math.round(255*A(f,l,k-1/3)),e]};s(y,function(e,k){var l=k.props,f=k.cache,B=k.to,v=k.from;r.fn[e]=function(e){B&&!this[f]&&(this[f]=B(this._rgba));if(e===x)return this[f].slice();var k,F=n.type(e),A="array"===F||"object"===F?e:arguments,y=this[f].slice();s(l,function(e,f){var l=A["object"===F?e:f.idx];null==l&&(l=y[f.idx]);y[f.idx]=D(l,f)});return v?(k=r(v(y)),k[f]=y,k):r(y)};s(l,function(f,l){r.fn[f]||(r.fn[f]=function(k){var r=n.type(k),v="alpha"===f?this._hsla?
"hsla":"rgba":e,t=this[v](),s=t[l.idx];if("undefined"===r)return s;"function"===r&&(k=k.call(this,s),r=n.type(k));if(null==k&&l.empty)return this;"string"===r&&(r=Y.exec(k))&&(k=s+parseFloat(r[2])*("+"===r[1]?1:-1));t[l.idx]=k;return this[v](t)})})});r.hook=function(e){e=e.split(" ");s(e,function(e,l){n.cssHooks[l]={set:function(e,k){var s,q="";if("transparent"!==k&&("string"!==n.type(k)||(s=U(k)))){k=r(s||k);if(!V.rgba&&1!==k._rgba[3]){for(s="backgroundColor"===l?e.parentNode:e;(""===q||"transparent"===
q)&&s&&s.style;)try{q=n.css(s,"backgroundColor"),s=s.parentNode}catch(y){}k=k.blend(q&&"transparent"!==q?q:"_default")}k=k.toRgbaString()}try{e.style[l]=k}catch(A){}}};n.fx.step[l]=function(e){e.colorInit||(e.start=r(e.elem,l),e.end=r(e.end),e.colorInit=!0);n.cssHooks[l].set(e.elem,e.start.transition(e.end,e.pos))}})};r.hook("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor");n.cssHooks.borderColor=
{expand:function(e){var k={};s(["Top","Right","Bottom","Left"],function(l,f){k["border"+f+"Color"]=e});return k}};la=n.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}})(jQuery);
(function(n){n.fn.nanoHoverIntent=function(x,D,U){var A={interval:100,sensitivity:7,timeout:0},A="object"===typeof x?n.extend(A,x):n.isFunction(D)?n.extend(A,{over:x,out:D,selector:U}):n.extend(A,{over:x,out:x,selector:D}),Y,Z,r,y,O=function(n){Y=n.pageX;Z=n.pageY},V=function(n,x){x.hoverIntent_t=clearTimeout(x.hoverIntent_t);if(Math.abs(r-Y)+Math.abs(y-Z)<A.sensitivity)return jQuery(x).off("mousemove.nanoHoverIntent",O),x.hoverIntent_s=1,A.over.apply(x,[n]);r=Y;y=Z;x.hoverIntent_t=setTimeout(function(){V(n,
x)},A.interval)};x=function(n){var x=jQuery.extend({},n),s=this;s.hoverIntent_t&&(s.hoverIntent_t=clearTimeout(s.hoverIntent_t));"mouseenter"==n.type?(r=x.pageX,y=x.pageY,jQuery(s).on("mousemove.nanoHoverIntent",O),1!=s.hoverIntent_s&&(s.hoverIntent_t=setTimeout(function(){V(x,s)},A.interval))):(jQuery(s).off("mousemove.hoverIntent",O),1==s.hoverIntent_s&&(s.hoverIntent_t=setTimeout(function(){s.hoverIntent_t=clearTimeout(s.hoverIntent_t);s.hoverIntent_s=0;A.out.apply(s,[x])},A.timeout)))};return this.on({"mouseenter.hoverIntent":x,
"mouseleave.hoverIntent":x},A.selector)}})(jQuery);